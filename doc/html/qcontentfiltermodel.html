<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QContentFilterModel Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 align="center">QContentFilterModel Class Reference</h1>
<p>The QContentFilterModel class defines a model for displaying and selecting possible content filters. <a href="#details">More...</a></p>
<pre>    #include &lt;QContentFilterModel&gt;</pre><p>Inherits <a href="./qabstractitemmodel.html">QAbstractItemModel</a>.</p>
<ul>
<li><a href="qcontentfiltermodel-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>class <b><a href="qcontentfiltermodel-template.html">Template</a></b></li>
<li><div class="fn"/>enum <b><a href="qcontentfiltermodel.html#TemplateOption-enum">TemplateOption</a></b> { NoTemplateOptions, ForceAll, SelectAll, CheckList, AndCheckedFilters, ShowEmptyLabels }</li>
<li><div class="fn"/>flags <b><a href="qcontentfiltermodel.html#TemplateOption-enum">TemplateOptions</a></b></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qcontentfiltermodel.html#QContentFilterModel">QContentFilterModel</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qcontentfiltermodel.html#QContentFilterModel-2">QContentFilterModel</a></b> ( QContent::Property <i>property</i>, TemplateOptions <i>options</i> = SelectAll, const QStringList &amp; <i>checked</i> = QStringList(), QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qcontentfiltermodel.html#QContentFilterModel-3">QContentFilterModel</a></b> ( QContentFilter::FilterType <i>type</i>, const QString &amp; <i>scope</i> = QString(), TemplateOptions <i>options</i> = SelectAll, const QStringList &amp; <i>checked</i> = QStringList(), QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/>virtual <b><a href="qcontentfiltermodel.html#dtor.QContentFilterModel">~QContentFilterModel</a></b> ()</li>
<li><div class="fn"/>QContentFilter <b><a href="qcontentfiltermodel.html#baseFilter">baseFilter</a></b> () const</li>
<li><div class="fn"/>QContentFilter <b><a href="qcontentfiltermodel.html#checkedFilter">checkedFilter</a></b> ( const QModelIndex &amp; <i>parent</i> = QModelIndex() ) const</li>
<li><div class="fn"/>QContentFilter <b><a href="qcontentfiltermodel.html#filter">filter</a></b> ( const QModelIndex &amp; <i>index</i> ) const</li>
<li><div class="fn"/>Template <b><a href="qcontentfiltermodel.html#modelTemplate">modelTemplate</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qcontentfiltermodel.html#setBaseFilter">setBaseFilter</a></b> ( const QContentFilter &amp; <i>filter</i> )</li>
<li><div class="fn"/>void <b><a href="qcontentfiltermodel.html#setModelTemplate">setModelTemplate</a></b> ( const Template &amp; <i>modelTemplate</i> )</li>
</ul>
<ul>
<li><div class="fn"/>34 public functions inherited from <a href="./qabstractitemmodel.html#public-functions">QAbstractItemModel</a></li>
<li><div class="fn"/>29 public functions inherited from <a href="./qobject.html#public-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="./qobject.html#properties">QObject</a></li>
<li><div class="fn"/>2 public slots inherited from <a href="./qabstractitemmodel.html#public-slots">QAbstractItemModel</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="./qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>14 signals inherited from <a href="./qabstractitemmodel.html#signals">QAbstractItemModel</a></li>
<li><div class="fn"/>1 signal inherited from <a href="./qobject.html#signals">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="./qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="./qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>14 protected functions inherited from <a href="./qabstractitemmodel.html#protected-functions">QAbstractItemModel</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="./qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="./qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QContentFilterModel class defines a model for displaying and selecting possible content filters.</p>
<p>A basic content filter model is simply a list of content filters of common type which match content passed by a base filter. The type of filter listed in the model is specified using the <a href="qcontentfilter.html#FilterType-enum">QContentFilter::FilterType</a> enumeration with some types requiring an additional sub-type. A base filter may be applied to a content filter model to restrict the displayed filters to those which also pass content passed by the base filter.</p>
<a name="file-path-lists"></a>
<h3>File path lists</h3>
<p>A content filter model constructed with the <a href="qcontentfilter.html#FilterType-enum">QContentFilter::Location</a> type and no sub-type will list locations filters for the root document paths containing content which matches the base filter. If a directory is passed as a sub-type it will list any sub-directories which contain content (including content in sub-directories) matching the base filter.</p>
<p>The <a href="qcontentfilter.html#FilterType-enum">QContentFilter::Directory</a> filter type will list directory filters for sub-directories of the directory given in the sub-type which contain content matching the base filter. Listed directories will contain matching content in the immediate directory, not a sub-directory. If no directory is given in the sub-type then no filters will be listed.</p>
<a name="mime-type-lists"></a>
<h3>Mime type lists</h3>
<p>A list of mime types can be obtained by constructing the content filter model with the <a href="qcontentfilter.html#FilterType-enum">QContentFilter::MimeType</a> filter type. If a mime major type is given as the the sub-type then only mime-types belonging to that major type will be listed, otherwise all mime types within the scope of the base filter will be listed.</p>
<p>A content filter model listing all available mime types:</p>
<pre>    QContentFilterModel *mimeTypes = new QContentFilterModel( QContentFilter::MimeType );</pre>
<p>Or just the image mime types:</p>
<pre>    QContentFilterModel imageTypes = new QContentFilterModel( QContentFilter::MimeType, &quot;image&quot; );</pre>
<a name="category-lists"></a>
<h3>Category lists</h3>
<p>Category filter may be listed using the <a href="qcontentfilter.html#FilterType-enum">QContentFilter::Category</a> filter type where the sub-type specifies the scope of the category filters, if no sub-type is given categories belonging to the global scope will be listed.</p>
<p>A content filter model containing global categories:</p>
<pre>    QContentFilterModel *categories = new QContentFilterModel( QContentFilter::Category );</pre>
<p>Categories in the &quot;Documents&quot; scope:</p>
<pre>    QContentFilterModel *categories = new QContentFilterModel( QContentFilter::Category, &quot;Documents&quot; );</pre>
<a name="property-lists"></a>
<h3>Property lists</h3>
<p>Content filter models which list content property values can be constructed using the <a href="qcontentfilter.html#FilterType-enum">QContentFilter::Synthetic</a> filter type with the property group and key in the sub-type, or using the <a href="qcontent.html#Property-enum">QContent::Property</a> enumeration. The property group and key used in the sub-type should be concatenated in the form &quot;[group]/[key]&quot;, if the property does not belong to a group the sub-type should be of the form &quot;none/[key]&quot;.</p>
<p>A content filter model listing all artists:</p>
<pre>    QContentFilterModel *artists = new QContentFilterModel( QContentFilterModel::Synthetic, &quot;none/Artist&quot; );</pre>
<p>The same filter model using the <a href="qcontent.html#Property-enum">QContent::Property</a> enumeration.</p>
<pre>    QContentFilterModel *artists = new QContentFilterModel( QContent::Artist );</pre>
<a name="templates"></a>
<h3>Templates</h3>
<p>Using templates more complex filter models can be created, templates extend on the filter lists by including static labels, concatenation of multiple filter lists, and nested lists.</p>
<a name="labels"></a>
<h4>Labels</h4>
<p>Labels allow items to be explicitly added to a list, they may be used to select a static filter or a nested list. A label at a minimum consists of a user visible string usually combined with a a filter or a target sub-template and may include an icon. Labels are not sorted they appear in the order they are appended to a list. By default if the filter for a label does not match any known content the label will not be displayed, this can be disabled by setting the <a href="qcontentfiltermodel.html#TemplateOption-enum">QContentFilterModel::ShowEmptyLabels</a> template option.</p>
<p>A simple template using labels to select an Application or Document role filter:</p>
<pre>    QContentFilterModel::Template role;
    role.addLabel( tr( &quot;Applications&quot; ), QContentFilter( QContent::Role ) );
    role.addLabel( tr( &quot;Documents&quot; ), QContentFilter( QContent::Document ) );</pre>
<a name="nested-templates"></a>
<h4>Nested templates</h4>
<p>Templates may be nested to construct a tree model of content filters, templates are nested by specifying a target template when adding a list or label to another template. The contents of a nested template will be filtered by the filters of the its parent items and the model's base filter and the filter returned for an index in a tree model will be the filter at the index and'ed with the filters of its parents but not the model's base filter.</p>
<p>A content filter model using a nested template to display artists with albums by an artist as children:</p>
<pre>    QContentFilterModel::Template album( QContent::Album );
    QContentFilterModel::Template artist( album, QContent::Artist );

    QContentFilterModel *model = new QContentFilterModel();

    model-&gt;setModelTemplate( album );</pre>
<a name="multiple-selection"></a>
<h3>Multiple selection</h3>
<p>Content filter models may be either single or multiple selection, to make a model multiple selection the <a href="qcontentfiltermodel.html#TemplateOption-enum">QContentFilterModel::CheckList</a> option should be set in the model template, which will allow list items to be checked. The check list option only applies to list items created from the template it was set in and not in any children, in order for all levels of a tree filter model to be able to be checked all the templates must have the check list option set. By default the checked filters are combined using the OR operand, setting the <a href="qcontentfiltermodel.html#TemplateOption-enum">QContentFilterModel::AndCheckedFilters</a> template option will cause the AND operand to be used instead.</p>
<p>If the <a href="qcontentfiltermodel.html#TemplateOption-enum">QContentFilterModel::CheckList</a> option is set a list of default filter arguments may be supplied when adding a list to a template, if the argument of a filter in that list matches one of the default arguments then that filter will will be checked when the list is first populated.</p>
<p>A default select all option may be included in a content filter model by setting either the <a href="qcontentfiltermodel.html#TemplateOption-enum">QContentFilterModel::SelectAll</a> or <a href="qcontentfiltermodel.html#TemplateOption-enum">QContentFilterModel::SelectAll</a> template options in the model template. This will include an option with the text 'All' as the first item in a list defined by a template, if <a href="qcontentfiltermodel.html#TemplateOption-enum">SelectAll</a> is set then the 'All' item will only be displayed if there are two or more items in the list, if <a href="qcontentfiltermodel.html#TemplateOption-enum">ForceAll</a> is set the 'All' item will be shown irregardless of the number of item in a list. If the 'All' item is appears in the root list of a model it will select a null filter and if in a checklist will be automatically checked if no other item is. If it is in a nested list then it will be select its parent item in single selection list or mimic its parent's check state in a multiple selection list.</p>
<p>A template for a checklist of mime types with a select all option:</p>
<pre>    QContentFilterModel::Template mimes(
        QContentFilter::MimeType, QString(), QContentFilterModel::SelectAll | QContentFilterModel::CheckList );</pre>
<p>See also <a href="qcontentfilter.html">QContentFilter</a>, <a href="qcontentfilterselector.html">QContentFilterSelector</a>, and <a href="qcontentfilterdialog.html">QContentFilterDialog</a>.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="flags"><a name="TemplateOption-enum"></a>enum QContentFilterModel::TemplateOption<br />flags QContentFilterModel::TemplateOptions</h3>
<p>Provides optional features to be used when generating lists.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QContentFilterModel::NoTemplateOptions</tt></td><td align="center" valign="top"><tt>0x00</tt></td><td valign="top">Don't display any additional list items or check boxes.</td></tr>
<tr><td valign="top"><tt>QContentFilterModel::ForceAll</tt></td><td align="center" valign="top"><tt>0x02</tt></td><td valign="top">Always display a select all option at the start of a list.</td></tr>
<tr><td valign="top"><tt>QContentFilterModel::SelectAll</tt></td><td align="center" valign="top"><tt>0x01</tt></td><td valign="top">Display a select all option at the start of a list if there is more than one other item in the list.</td></tr>
<tr><td valign="top"><tt>QContentFilterModel::CheckList</tt></td><td align="center" valign="top"><tt>0x04</tt></td><td valign="top">The list is a checklist.</td></tr>
<tr><td valign="top"><tt>QContentFilterModel::AndCheckedFilters</tt></td><td align="center" valign="top"><tt>0x08</tt></td><td valign="top">When determining the selected filter filters are and'ed together. By default filters are or'ed.</td></tr>
<tr><td valign="top"><tt>QContentFilterModel::ShowEmptyLabels</tt></td><td align="center" valign="top"><tt>0x10</tt></td><td valign="top">Forces labels to be shown irregardless of whether they match any content in the database.</td></tr>
</table></p>
<p>The TemplateOptions type is a typedef for <a href="qflags.html">QFlags</a>&lt;TemplateOption&gt;. It stores an OR combination of TemplateOption values.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QContentFilterModel"></a>QContentFilterModel::QContentFilterModel ( <a href="./qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Creates a new <a href="qcontentfiltermodel.html">QContentFilterModel</a> with the given <i>parent</i>.</p>
<h3 class="fn"><a name="QContentFilterModel-2"></a>QContentFilterModel::QContentFilterModel ( <a href="qcontent.html#Property-enum">QContent::Property</a> <i>property</i>, <a href="qcontentfiltermodel.html#TemplateOption-enum">TemplateOptions</a> <i>options</i> = SelectAll, const <a href="./qstringlist.html">QStringList</a> &amp; <i>checked</i> = QStringList(), <a href="./qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Creates a new content filter model parented to <i>parent</i> which lists filters for the property <i>property</i> according to the given template <i>options</i>.</p>
<p>The properties listed in the <i>checked</i> list will be checked by default.</p>
<h3 class="fn"><a name="QContentFilterModel-3"></a>QContentFilterModel::QContentFilterModel ( <a href="qcontentfilter.html#FilterType-enum">QContentFilter::FilterType</a> <i>type</i>, const <a href="./qstring.html">QString</a> &amp; <i>scope</i> = QString(), <a href="qcontentfiltermodel.html#TemplateOption-enum">TemplateOptions</a> <i>options</i> = SelectAll, const <a href="./qstringlist.html">QStringList</a> &amp; <i>checked</i> = QStringList(), <a href="./qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Creates a new content filter model parented to <i>parent</i> which lists filters of type <i>type</i> within the given <i>scope</i> according to the template <i>options</i>.</p>
<p>Any filters with an argument that matches one in the <i>checked</i> list will be checked by default.</p>
<h3 class="fn"><a name="dtor.QContentFilterModel"></a>QContentFilterModel::~QContentFilterModel ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Destroys a <a href="qcontentfiltermodel.html">QContentFilterModel</a>.</p>
<h3 class="fn"><a name="baseFilter"></a><a href="qcontentfilter.html">QContentFilter</a> QContentFilterModel::baseFilter () const</h3>
<p>Returns the base filter of the model. Only filters which return content passed by the base filter will be listed in the view.</p>
<p>See also <a href="qcontentfiltermodel.html#setBaseFilter">setBaseFilter</a>().</p>
<h3 class="fn"><a name="checkedFilter"></a><a href="qcontentfilter.html">QContentFilter</a> QContentFilterModel::checkedFilter ( const <a href="./qmodelindex.html">QModelIndex</a> &amp; <i>parent</i> = QModelIndex() ) const</h3>
<p>Returns a filter built from the the checked items that are children of <i>parent</i>.</p>
<h3 class="fn"><a name="filter"></a><a href="qcontentfilter.html">QContentFilter</a> QContentFilterModel::filter ( const <a href="./qmodelindex.html">QModelIndex</a> &amp; <i>index</i> ) const</h3>
<p>Returns the <a href="qcontentfilter.html">QContentFilter</a> at <i>index</i>. The returned filter will be and'ed combination of the filter at the index and it's parents, not including the models base filter.</p>
<h3 class="fn"><a name="modelTemplate"></a><a href="qcontentfiltermodel-template.html">Template</a> QContentFilterModel::modelTemplate () const</h3>
<p>Returns the template which the model is constructed from.</p>
<p>See also <a href="qcontentfiltermodel.html#setModelTemplate">setModelTemplate</a>().</p>
<h3 class="fn"><a name="setBaseFilter"></a>void QContentFilterModel::setBaseFilter ( const <a href="qcontentfilter.html">QContentFilter</a> &amp; <i>filter</i> )</h3>
<p>Sets the base filter of the model to <i>filter</i>. Only filters which return content passed by the base filter will be listed in the view.</p>
<p>See also <a href="qcontentfiltermodel.html#baseFilter">baseFilter</a>().</p>
<h3 class="fn"><a name="setModelTemplate"></a>void QContentFilterModel::setModelTemplate ( const <a href="qcontentfiltermodel-template.html">Template</a> &amp; <i>modelTemplate</i> )</h3>
<p>Sets the template the model is constructed from to <i>modelTemplate</i>.</p>
<p>See also <a href="qcontentfiltermodel.html#modelTemplate">modelTemplate</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.2</div></td>
</tr></table></div></address></body>
</html>

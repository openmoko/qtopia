<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Qt/Embedded Virtual Framebuffer</title>
<style type="text/css"><!--
h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
body { background: #ffffff; color: black; }
--></style>
</head>
<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top"><a href="index.html"><img height="27" width="472" src="dochead.png" border="0"></a><br>
<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular" align="center" size=32>Qtopia</font>
   <a href="index.html">Home</a>
 - <a href="qtopiaclasses.html">Classes</a>
 - <a href="qtopiahierarchy.html">Hierachy</a>
 - <a href="qtopiaannotated.html">Annotated</a>
 - <a href="qtopiafunctions.html">Functions</a>
 - <a href="qtindex.html">Qt Embedded</a>
</td>
<td align="right" valign="top">
  <img height="100" width="100" src="qpelogo.png" align="top" border="0">
</td>
</tr>
</table><h1 align=center>Qt/Embedded Virtual Framebuffer</h1>


<p> 
<a name="top"></a>
<!-- toc -->
<ul>
<li><a href="#1"> Introduction
</a>
<li><a href="#2"> Framebuffer Design and Refresh Rate
</a>
<li><a href="#3"> Using qvfb
</a>
<ul>
<li><a href="#3-1"> Command line options
</a>
</ul>
</ul>
<!-- endtoc -->

<p> <h2> Introduction
</h2>
<a name="1"></a><p> The virtual framebuffer allows Qt/Embedded programs to be developed on your
desktop machine, without switching between consoles and X11.
<p> The virtual framebuffer is located in <tt>$QTDIR/tools/qvfb</tt>.
<p> QVFB is a development tool only.  No security issues have
been considered in the virtual framebuffer design.  It should not be used
in a production environment and <tt>QT_NO_QWS_VFB</tt> should always be defined
in production libraries.
<p> <h2> Framebuffer Design and Refresh Rate
</h2>
<a name="2"></a><p> The virtual framebuffer emulates a framebuffer using a shared memory region
(the virtual frame buffer) and a utility to display the framebuffer in a
window (qvfb).  The regions of the display that have changed are updated
periodically, so you will see discrete snapshots of the framebuffer rather
than each individual drawing operation.  For this reason drawing problems
such as flickering may not be apparent until the program is run using a real
framebuffer.
<p> The target refresh rate can be set via the View->Refresh Rate menu item.
This will cause qvfb to check for updated regions more quickly.  The rate
is a target only.  If little drawing is being done, the framebuffer will
not show any updates between drawing events.  If an application is displaying
an animation the updates will be frequent, and the application and
qvfb will compete for processor time.
<p> Mouse and keyboard events are passed to the Qt/Embedded master process via
named pipes.
<p> <h2> Using qvfb
</h2>
<a name="3"></a><p> <ul>
<li> Make sure <tt>QT_NO_QWS_VFB</tt> in <tt>$QTDIR/src/tools/qconfig.h</tt> is not defined
and compile the Qt/Embedded library.
<li> Compile qvfb as a normal Qt/X11 application and run it. Do not
compile it as a Qt/Embedded application.
<li> Start a Qt/Embedded master application (i.e. construct QApplication with
<tt>QApplication::GuiServer</tt> flag or use the <tt>-qws</tt> command line parameter).
You will need to specify to the server that you wish to use the virtual
framebuffer driver, e.g.: <pre> widgets -qws -display QVFb:0</pre>
 .
<li> You may prefer to set the QWS_DISPLAY environment variable to
be <tt>QVFb:0</tt>.
</ul>
<p> <h3> Command line options
</h3>
<a name="3-1"></a><p> The qvfb tool supports the following command line options:
<p> <center><table cellpadding="4" cellspacing="2" border="0">
<tr bgcolor="#a2c511"> <th valign="top">Option <th valign="top">Explanation
<tr bgcolor="#f0f0f0">
<td valign="top"><pre> -width width </pre>
 
<td valign="top">The width of the virtual framebuffer (default: 240).
<tr bgcolor="#d0d0d0">
<td valign="top"><pre> -height height</pre>
 
<td valign="top">The height of the virtual framebuffer (default: 320).
<tr bgcolor="#f0f0f0">
<td valign="top"><pre> -depth depth</pre>
 
<td valign="top">The depth of the virtual framebuffer (1, 4, 8 or 32, default: 8).
<tr bgcolor="#d0d0d0">
<td valign="top"><pre> -nocursor</pre>
 
<td valign="top">Do not display the X11 cursor in the framebuffer window.
<tr bgcolor="#f0f0f0">
<td valign="top"><pre> -qwsdisplay :id</pre>
 
<td valign="top">The Qt/Embedded display id to provide (default :0).
</table></center>
<p> 
<!-- eof -->
<p><address><hr><div align="center">
<table width="100%" cellspacing="0" border="0">
<tr>
<td>Copyright &copy; 2001-2005 Trolltech
<td><a href="http://www.trolltech.com/trademarks.html">Trademarks</a>
<td align="right"><div align="right">Qtopia version 2.1.1</div>
</table></div></address></body>
</html>

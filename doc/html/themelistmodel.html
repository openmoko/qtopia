<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ThemeListModel Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 align="center">ThemeListModel Class Reference</h1>
<p>The ThemeListModel class provides a list model that is used for list functionality in Qtopia theming. <a href="#details">More...</a></p>
<pre>    #include &lt;ThemeListModel&gt;</pre><p>Inherits <a href="./qabstractlistmodel.html">QAbstractListModel</a>.</p>
<ul>
<li><a href="themelistmodel-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="themelistmodel.html#ThemeListModel">ThemeListModel</a></b> ( QObject * <i>parent</i>, ThemeListItem * <i>listItem</i>, ThemedView * <i>view</i> )</li>
<li><div class="fn"/>virtual <b><a href="themelistmodel.html#dtor.ThemeListModel">~ThemeListModel</a></b> ()</li>
<li><div class="fn"/>void <b><a href="themelistmodel.html#addEntry">addEntry</a></b> ( ThemeListModelEntry * <i>item</i> )</li>
<li><div class="fn"/>void <b><a href="themelistmodel.html#clear">clear</a></b> ()</li>
<li><div class="fn"/>QModelIndex <b><a href="themelistmodel.html#entryIndex">entryIndex</a></b> ( const ThemeListModelEntry * <i>entry</i> ) const</li>
<li><div class="fn"/>ThemeListItem * <b><a href="themelistmodel.html#listItem">listItem</a></b> () const</li>
<li><div class="fn"/>void <b><a href="themelistmodel.html#removeEntry">removeEntry</a></b> ( const QModelIndex &amp; <i>index</i> )</li>
<li><div class="fn"/>ThemeListModelEntry * <b><a href="themelistmodel.html#themeListModelEntryx">themeListModelEntry</a></b> ( const QModelIndex &amp; <i>index</i> ) const</li>
<li><div class="fn"/>ThemedView * <b><a href="themelistmodel.html#themedViewx">themedView</a></b> () const</li>
<li><div class="fn"/>void <b><a href="themelistmodel.html#triggerUpdate">triggerUpdate</a></b> ()</li>
</ul>
<ul>
<li><div class="fn"/>1 public function inherited from <a href="./qabstractlistmodel.htmlqabstractlistmodel.html#public-functions">QAbstractListModel</a></li>
<li><div class="fn"/>34 public functions inherited from <a href="./qabstractitemmodel.htmlqabstractitemmodel.html#public-functions">QAbstractItemModel</a></li>
<li><div class="fn"/>29 public functions inherited from <a href="./qobject.htmlqobject.html#public-functions">QObject</a></li>
</ul>
<a name="protected-functions"></a>
<h3>Protected Functions</h3>
<ul>
<li><div class="fn"/>QList&lt;ThemeListModelEntry *&gt; <b><a href="themelistmodel.html#items">items</a></b> () const</li>
</ul>
<ul>
<li><div class="fn"/>14 protected functions inherited from <a href="./qabstractitemmodel.htmlqabstractitemmodel.html#protected-functions">QAbstractItemModel</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="./qobject.htmlqobject.html#protected-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="./qobject.htmlqobject.html#properties">QObject</a></li>
<li><div class="fn"/>2 public slots inherited from <a href="./qabstractitemmodel.htmlqabstractitemmodel.html#public-slots">QAbstractItemModel</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="./qobject.htmlqobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>14 signals inherited from <a href="./qabstractitemmodel.htmlqabstractitemmodel.html#signals">QAbstractItemModel</a></li>
<li><div class="fn"/>1 signal inherited from <a href="./qobject.htmlqobject.html#signals">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="./qobject.htmlqobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="./qobject.htmlqobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="./qobject.htmlqobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The ThemeListModel class provides a list model that is used for list functionality in Qtopia theming.</p>
<p>List functionality in theming is implemented using Qt's model-view architecture and theme templates.</p>
<p>To use a ThemeListModel you pass in the associated <a href="themelistitem.html">ThemeListItem</a> and <a href="themedview.html">ThemedView</a> objects during construction, and then populate it with <a href="themelistmodelentry.html">ThemeListModelEntry</a> items using the <a href="themelistmodel.html#addEntry">addEntry</a>() and <a href="themelistmodel.html#removeEntry">removeEntry</a>() functions. The ThemeListModel installs itself as the model for the <a href="themelistitem.html">ThemeListItem</a>'s <a href="./qlistview.html">QListView</a> object during construction. From that point on communication between the <a href="./qlistview.html">QListView</a> and the ThemeListModel occurs through Qt's model-view architecture.</p>
<p>Theme templates are used to describe the visual look of items in the ThemeListModel. As a list's items are added dynamically at runtime, they cannot be specified in the themed view XML. However, using theme templates, the visual appearance of a list item is defined instead, which is used to draw items as appropriate. Instances of these theme templates can be created at anytime using <a href="themetemplateitem.html#createInstance">ThemeTemplateItem::createInstance</a>().</p>
<p>An internal implementation of <a href="./qitemdelegate.html">QItemDelegate</a> called ThemeListDelegate exists to handle communication between the <a href="./qlistview.html">QListView</a> of a <a href="themelistitem.html">ThemeListItem</a>, and associated ThemeListModel/<a href="themelistmodelentry.html">ThemeListModelEntry</a> objects. It works completely under the hood, and so this information is given only to help the developer understand how the system works.</p>
<p>The ThemeListDelegate is installed using <a href="./qabstractitemview.html#setItemDelegate">QListView::setItemDelegate</a>() on the <a href="themelistitem.html">ThemeListItem</a>'s <a href="./qlistview.html">QListView</a>. Qt's model-view architecture then asks the delegate to paint items in the <a href="./qlistview.html">QListView</a> as required. When requested to repaint a particular <a href="./qmodelindex.html">QModelIndex</a> in the <a href="./qlistview.html">QListView</a>, the ThemeItemDelegate performs the following functions:</p>
<ul>
<li>The index is used to look up the associated <a href="themelistmodelentry.html">ThemeListModelEntry</a> through the associated ThemeListModel. The ThemeItemDelegate asserts that the return value of <a href="./qabstractitemview.html#model">QListView::model</a>() is an object that inherits from ThemeListModel.</li>
<li>If no template instance has been created for the <a href="themelistmodelentry.html">ThemeListModelEntry</a> object, a new one is created using by calling <a href="themelistmodelentry.html#templateInstance">ThemeListModelEntry::templateInstance</a>() which calls <a href="themetemplateitem.html#createInstance">ThemeTemplateItem::createInstance</a>().</li>
<li>If a template instance exists but the value returned by its itemName() function is not equal to the value returned by the <a href="themelistmodelentry.html">ThemeListModelEntry</a>'s type() function, then the delegate deletes the existing template instance and calls ThemeTemplateItem::templateInstance() to get a new one.</li>
<li>A pointer to the template instance is stored in the <a href="themelistmodelentry.html">ThemeListModelEntry</a> object.</li>
<li>The template instance for the <a href="themelistmodelentry.html">ThemeListModelEntry</a> object is painted to the <a href="./qlistview.html">QListView</a> at the index.</li>
</ul>
<p>See the <a href="themetemplateitem.html">ThemeTemplateItem</a> and <a href="themelistmodelentry.html">ThemeListModelEntry</a> documentation for more information.</p>
<p>The valuespace is used to communicate data from the system to items in the themed list. Normally a valuespace path can be assigned in the themed view XML to items using the vspath attribute of <a href="themeitem.html">ThemeItem</a>. However, as template definitions representing a theme list items' visual appearance are not actual instances, their vspath is dynamically determined and set at runtime when they are created using <a href="themetemplateitem.html#createInstance">ThemeTemplateItem::createInstance</a>(). <a href="themetemplateitem.html#createInstance">ThemeTemplateItem::createInstance</a>() takes a uid which is actually set to the vspath of the returned ThemeTemplateInstance. For template instances created by <a href="themelistmodelentry.html#templateInstance">ThemeListModelEntry::templateInstance</a>() the uid passed is the return value of <a href="themelistmodelentry.html#uid">ThemeListModelEntry::uid</a>(). This acts as a unique association between a theme template instance and the <a href="themelistmodelentry.html">ThemeListModelEntry</a>, as well as a unique valuespace path for both to communicate under. A call to <a href="themelistmodelentry.html#setValue">ThemeListModelEntry::setValue</a>() set keys under this unique vspath. For example, given the following themed view XML definition:</p>
<pre>    &lt;list vspath=&quot;/UserInterface/MyList/&quot;&gt;
        &lt;template name=&quot;myListItem&quot;&gt;
            &lt;text name=&quot;titleMessage&quot;&gt;@TitleMessage&lt;/text&gt;
        &lt;/template&gt;
    &lt;/list&gt;</pre>
<p>you could set the text of the element 'titleMessage' with the following:</p>
<pre>    ThemeListModelEntry* myEntry; <span class="comment">//</span> assuming that myEntry-&gt;type() returns &quot;myListItem&quot;
    ..
    myEntry-&gt;setValue(&quot;TitleMessage&quot;, &quot;Hello, World&quot;); <span class="comment">//</span> expands to /UserInterface/MyList/&lt;myEntry-&gt;uid()&gt;/TitleMessage</pre>
<p>See also <a href="themed-view-elements.html">Themed View Elements</a>, <a href="themetemplateitem.html">ThemeTemplateItem</a>, <a href="themetemplateinstanceitem.html">ThemeTemplateInstanceItem</a>, and <a href="themelistmodelentry.html">ThemeListModelEntry</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="ThemeListModel"></a>ThemeListModel::ThemeListModel ( <a href="./qobject.html">QObject</a> * <i>parent</i>, <a href="themelistitem.html">ThemeListItem</a> * <i>listItem</i>, <a href="themedview.html">ThemedView</a> * <i>view</i> )</h3>
<p>Constructs a <a href="themelistmodel.html">ThemeListModel</a>. <i>parent</i> is passed to <a href="./qabstractlistmodel.html">QAbstractListModel</a>, <i>listItem</i> is the <a href="themelistitem.html">ThemeListItem</a> associated with this model and <i>view</i> is the <a href="themedview.html">ThemedView</a> associated with this model. The model is installed on the <a href="themelistitem.html">ThemeListItem</a> <i>listItem</i> using the <a href="themelistitem.html#setModel">ThemeListItem::setModel</a>() function.</p>
<h3 class="fn"><a name="dtor.ThemeListModel"></a>ThemeListModel::~ThemeListModel ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Destroys the model. All items in the model are deleted.</p>
<h3 class="fn"><a name="addEntry"></a>void ThemeListModel::addEntry ( <a href="themelistmodelentry.html">ThemeListModelEntry</a> * <i>item</i> )</h3>
<p>Adds <i>item</i> to the end of this model. <a href="themelistmodel.html">ThemeListModel</a> takes ownership of <i>item</i> and will delete it when it is removed.</p>
<h3 class="fn"><a name="clear"></a>void ThemeListModel::clear ()</h3>
<p>Clears all items from the model. The items are deleted.</p>
<h3 class="fn"><a name="entryIndex"></a><a href="./qmodelindex.html">QModelIndex</a> ThemeListModel::entryIndex ( const <a href="themelistmodelentry.html">ThemeListModelEntry</a> * <i>entry</i> ) const</h3>
<p>Returns the index of the item <i>entry</i> in the model.</p>
<h3 class="fn"><a name="items"></a><a href="./qlist.html">QList</a>&lt;<a href="themelistmodelentry.html">ThemeListModelEntry</a> *&gt; ThemeListModel::items () const&nbsp;&nbsp;<tt> [protected]</tt></h3>
<p>Returns a <a href="./qlist.html">QList</a> of all items in the model.</p>
<h3 class="fn"><a name="listItem"></a><a href="themelistitem.html">ThemeListItem</a> * ThemeListModel::listItem () const</h3>
<p>Returns the <a href="themelistitem.html">ThemeListItem</a> instance associated with this model.</p>
<h3 class="fn"><a name="removeEntry"></a>void ThemeListModel::removeEntry ( const <a href="./qmodelindex.html">QModelIndex</a> &amp; <i>index</i> )</h3>
<p>Removes the item at <i>index</i> from the mdoel. The item is deleted.</p>
<h3 class="fn"><a name="themeListModelEntryx"></a><a href="themelistmodelentry.html">ThemeListModelEntry</a> * ThemeListModel::themeListModelEntry ( const <a href="./qmodelindex.html">QModelIndex</a> &amp; <i>index</i> ) const</h3>
<p>Returns a pointer to the <a href="themelistmodelentry.html">ThemeListModelEntry</a> at <i>index</i>.</p>
<h3 class="fn"><a name="themedViewx"></a><a href="themedview.html">ThemedView</a> * ThemeListModel::themedView () const</h3>
<p>Returns the <a href="themedview.html">ThemedView</a> instance associated with this model.</p>
<h3 class="fn"><a name="triggerUpdate"></a>void ThemeListModel::triggerUpdate ()</h3>
<p>Triggers an update in the view for all items in the model.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.2</div></td>
</tr></table></div></address></body>
</html>

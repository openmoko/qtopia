<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QBluetoothL2CapSocket Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 align="center">QBluetoothL2CapSocket Class Reference</h1>
<p>The QBluetoothL2CapSocket class represents an L2CAP client socket. <a href="#details">More...</a></p>
<pre>    #include &lt;QBluetoothL2CapSocket&gt;</pre><p>Inherits <a href="qbluetoothabstractsocket.html">QBluetoothAbstractSocket</a>.</p>
<ul>
<li><a href="qbluetoothl2capsocket-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qbluetoothl2capsocket.html#QBluetoothL2CapSocket">QBluetoothL2CapSocket</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qbluetoothl2capsocket.html#dtor.QBluetoothL2CapSocket">~QBluetoothL2CapSocket</a></b> ()</li>
<li><div class="fn"/>bool <b><a href="qbluetoothl2capsocket.html#connect">connect</a></b> ( const QBluetoothAddress &amp; <i>local</i>, const QBluetoothAddress &amp; <i>remote</i>, int <i>psm</i>, int <i>incomingMtu</i> = 672, int <i>outgoingMtu</i> = 672, QBluetooth::SecurityOptions <i>options</i> = 0 )</li>
<li><div class="fn"/>int <b><a href="qbluetoothl2capsocket.html#incomingMtu">incomingMtu</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qbluetoothl2capsocket.html#isAuthenticated">isAuthenticated</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qbluetoothl2capsocket.html#isEncrypted">isEncrypted</a></b> () const</li>
<li><div class="fn"/>QBluetoothAddress <b><a href="qbluetoothl2capsocket.html#localAddress">localAddress</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qbluetoothl2capsocket.html#outgoingMtu">outgoingMtu</a></b> () const</li>
<li><div class="fn"/>QBluetoothAddress <b><a href="qbluetoothl2capsocket.html#remoteAddress">remoteAddress</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qbluetoothl2capsocket.html#remotePsm">remotePsm</a></b> () const</li>
<li><div class="fn"/>QBluetooth::SecurityOptions <b><a href="qbluetoothl2capsocket.html#securityOptions">securityOptions</a></b> () const</li>
</ul>
<ul>
<li><div class="fn"/>15 public functions inherited from <a href="qbluetoothabstractsocket.html#public-functions">QBluetoothAbstractSocket</a></li>
<li><div class="fn"/>54 public functions inherited from <a href="qiodevice.html#public-functions">QIODevice</a></li>
<li><div class="fn"/>37 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>4 signals inherited from <a href="qbluetoothabstractsocket.html#signals">QBluetoothAbstractSocket</a></li>
<li><div class="fn"/>3 signals inherited from <a href="qiodevice.html#signals">QIODevice</a></li>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>5 protected functions inherited from <a href="qiodevice.html#protected-functions">QIODevice</a></li>
<li><div class="fn"/>8 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
<li><div class="fn"/>1 static protected member inherited from <a href="qobject.html#static-protected-members">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QBluetoothL2CapSocket class represents an L2CAP client socket.</p>
<p>The Bluetooth L2CAP protocol provides reliable connection-oriented and unreliable connectionless data services. It is a lower layer protocol than RFCOMM. The implementation of L2CAP protocol under Linux uses sockets, and is in general very similar to TCP socket programming.</p>
<p>PSM stands for Port and Service Multiplexer. The PSM value can be any <b>odd</b> value the range of 1-32765. For more information please see Bluetooth Specification Version 2.0 + EDR [vol 4] page 45.</p>
<p>The PSM and address of the connected peer are fetched by calling <a href="qbluetoothl2capsocket.html#remotePsm">remotePsm</a>() and <a href="qbluetoothl2capsocket.html#remoteAddress">remoteAddress</a>() respectively. The <a href="qbluetoothl2capsocket.html#localAddress">localAddress</a>() returns the address of the local device being used by the socket.</p>
<p>Note that special attention should be paid to the incoming and outgoing MTU sizes. These determine in what size chunks the data should be read / written. If preserving the record boundaries when reading is important, then the read buffer size should be set to the value of <a href="qbluetoothl2capsocket.html#incomingMtu">incomingMtu</a>() using <a href="qbluetoothabstractsocket.html#setReadBufferSize">setReadBufferSize</a>() when the socket is connected. If record boundaries are important when writing, the data should only be fed one packet of size &lt;= <a href="qbluetoothl2capsocket.html#outgoingMtu">outgoingMtu</a>() at a time by using write and then waiting for the <a href="qiodevice.html#bytesWritten">bytesWritten</a>() signal before sending more data.</p>
<p>See also <a href="qbluetoothl2capserver.html">QBluetoothL2CapServer</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QBluetoothL2CapSocket"></a>QBluetoothL2CapSocket::QBluetoothL2CapSocket ( <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new <a href="qbluetoothl2capsocket.html">QBluetoothL2CapSocket</a> object. The <i>parent</i> parameter is passed to the <a href="qobject.html">QObject</a> constructor.</p>
<h3 class="fn"><a name="dtor.QBluetoothL2CapSocket"></a>QBluetoothL2CapSocket::~QBluetoothL2CapSocket ()</h3>
<p>Destroys the socket.</p>
<h3 class="fn"><a name="connect"></a>bool QBluetoothL2CapSocket::connect ( const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>local</i>, const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>remote</i>, int <i>psm</i>, int <i>incomingMtu</i> = 672, int <i>outgoingMtu</i> = 672, <a href="qbluetooth.html#SecurityOption-enum">QBluetooth::SecurityOptions</a> <i>options</i> = 0 )</h3>
<p>Attempts to open a L2CAP connection between the local device with address <i>local</i> and the remote device with address <i>remote</i>. The L2CAP PSM to use is given by <i>psm</i>. This function should generally return immediately, and the socket will enter into the <tt>ConnectingState</tt>.</p>
<p>The <i>incomingMtu</i> and <i>outgoingMtu</i> represent the MTU sizes to use for incoming and outgoing data respectively. These parameters should only be considered hints and are subject to negotiation by the underlying stack implementation. If the connection succeeds the actual MTUs should be queried by using <a href="qbluetoothl2capsocket.html#incomingMtu">incomingMtu</a>() and <a href="qbluetoothl2capsocket.html#outgoingMtu">outgoingMtu</a>() methods.</p>
<p>Optionally, the client can request that that the connection be secured by specifying the <i>options</i> parameter. <b>NOTE</b>: This feature might not work under some systems.</p>
<p>The function returns true if the connection could be started, and false otherwise.</p>
<p>Note that the connection could still fail, the state of the socket will be sent in the <a href="qbluetoothabstractsocket.html#stateChanged">stateChanged</a>() signal.</p>
<p>See also <a href="qbluetoothabstractsocket.html#state">state</a>(), <a href="qbluetoothabstractsocket.html#connected">connected</a>(), and <a href="qbluetoothabstractsocket.html#waitForConnected">waitForConnected</a>().</p>
<h3 class="fn"><a name="incomingMtu"></a>int QBluetoothL2CapSocket::incomingMtu () const</h3>
<p>Returns the MTU for incoming data. The underlying implementation will accept data packets of size no bigger than the incoming MTU. The MTU information is provided so that the read buffer size can be set appropriately.</p>
<p>See also <a href="qbluetoothl2capsocket.html#outgoingMtu">outgoingMtu</a>().</p>
<h3 class="fn"><a name="isAuthenticated"></a>bool QBluetoothL2CapSocket::isAuthenticated () const</h3>
<p>Returns true if the socket is authenticated.</p>
<p>See also <a href="qbluetoothl2capsocket.html#securityOptions">securityOptions</a>() and <a href="qbluetoothl2capsocket.html#isEncrypted">isEncrypted</a>().</p>
<h3 class="fn"><a name="isEncrypted"></a>bool QBluetoothL2CapSocket::isEncrypted () const</h3>
<p>Returns true if the socket is encrypted.</p>
<p>See also <a href="qbluetoothl2capsocket.html#securityOptions">securityOptions</a>() and <a href="qbluetoothl2capsocket.html#isAuthenticated">isAuthenticated</a>().</p>
<h3 class="fn"><a name="localAddress"></a><a href="qbluetoothaddress.html">QBluetoothAddress</a> QBluetoothL2CapSocket::localAddress () const</h3>
<p>Returns the address of the local device. If the socket is not currently connected, returns <a href="qbluetoothaddress.html#invalid-var">QBluetoothAddress::invalid</a>.</p>
<p>See also <a href="qbluetoothl2capsocket.html#remotePsm">remotePsm</a>() and <a href="qbluetoothl2capsocket.html#remoteAddress">remoteAddress</a>().</p>
<h3 class="fn"><a name="outgoingMtu"></a>int QBluetoothL2CapSocket::outgoingMtu () const</h3>
<p>Returns the MTU for outgoing data. The underlying implementation will accept outgoing data packets of size no bigger than the outgoing MTU.</p>
<p>See also <a href="qbluetoothl2capsocket.html#incomingMtu">incomingMtu</a>().</p>
<h3 class="fn"><a name="remoteAddress"></a><a href="qbluetoothaddress.html">QBluetoothAddress</a> QBluetoothL2CapSocket::remoteAddress () const</h3>
<p>Returns the address of the remote device. If the socket is not currently connected, returns <a href="qbluetoothaddress.html#invalid-var">QBluetoothAddress::invalid</a>.</p>
<p>See also <a href="qbluetoothl2capsocket.html#remotePsm">remotePsm</a>() and <a href="qbluetoothl2capsocket.html#localAddress">localAddress</a>().</p>
<h3 class="fn"><a name="remotePsm"></a>int QBluetoothL2CapSocket::remotePsm () const</h3>
<p>Returns the PSM of the remote device. If the socket is not currently connected, returns -1.</p>
<p>See also <a href="qbluetoothl2capsocket.html#remoteAddress">remoteAddress</a>() and <a href="qbluetoothl2capsocket.html#localAddress">localAddress</a>().</p>
<h3 class="fn"><a name="securityOptions"></a><a href="qbluetooth.html#SecurityOption-enum">QBluetooth::SecurityOptions</a> QBluetoothL2CapSocket::securityOptions () const</h3>
<p>Returns the security options currently active for the socket.</p>
<p>See also <a href="qbluetoothl2capsocket.html#isAuthenticated">isAuthenticated</a>() and <a href="qbluetoothl2capsocket.html#isEncrypted">isEncrypted</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2007 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.0</div></td>
</tr></table></div></address></body>
</html>

<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Managing Memory Usage</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 align="center">Managing Memory Usage<br /><span class="subtitle"></span>
</h1>
<a name="shared-memory-cache"></a>
<h2>Shared Memory Cache</h2>
<p>Qtopia performs adequately with 64 MB RAM; however a system using half this amount on say, shared memory cache and backing store will not have acceptable performance. A constant: <a href="custom-h.html#QGLOBAL_PIXMAP_CACHE_LIMIT">QGLOBAL_PIXMAP_CACHE_LIMIT</a> is provided to aid memory management for systems with large, high bit per pixel(bpp) screens.</p>
<p>This constant determines the size of the shared memory cache that Qtopia uses and depends on the user device. The shared memory cache holds pixmaps that are common between applications with the most important being the background image. The size of the background image depends on the size and depth of the screen, for example:</p>
<ul>
<li>the Greenphone is 240x320x16 bpp which means it requires 150 KB to store the background image</li>
<li>a system with a 640x480x32 bpp screen requires 1.2 MB to store the background which is greater than the constant as defined above, so it will fail and Qtopia will crash.</li>
</ul>
<p>Considering that more than just the background image is in the shared memory cache, for example, it also holds other images and potentially font information, the shared memory buffer must be resized relative to the size of the background image. So, for example, a 640x480x32 bpp system needs to allocate 12 MB to the shared memory cache. A potential rule-of-thumb is that a shared memory cache needs twice as large as the background image should suffice, however it may reduce the potential benefit.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.2</div></td>
</tr></table></div></address></body>
</html>

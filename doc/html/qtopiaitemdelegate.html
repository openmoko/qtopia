<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QtopiaItemDelegate Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 class="title">QtopiaItemDelegate Class Reference</h1>
<p>The QtopiaItemDelegate class provides display and editing facilities for data items from a model. <a href="#details">More...</a></p>
<pre>    #include &lt;QtopiaItemDelegate&gt;</pre><p>Inherits <a href="qitemdelegate.html">QItemDelegate</a>.</p>
<ul>
<li><a href="qtopiaitemdelegate-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qtopiaitemdelegate.html#QtopiaItemDelegate">QtopiaItemDelegate</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qtopiaitemdelegate.html#dtor.QtopiaItemDelegate">~QtopiaItemDelegate</a></b> ()</li>
<li><div class="fn"/>virtual void <b><a href="qtopiaitemdelegate.html#paint">paint</a></b> ( QPainter * <i>painter</i>, const QStyleOptionViewItem &amp; <i>option</i>, const QModelIndex &amp; <i>index</i> ) const</li>
<li><div class="fn"/>virtual QSize <b><a href="qtopiaitemdelegate.html#sizeHint">sizeHint</a></b> ( const QStyleOptionViewItem &amp; <i>option</i>, const QModelIndex &amp; <i>index</i> ) const</li>
</ul>
<ul>
<li><div class="fn"/>10 public functions inherited from <a href="qitemdelegate.html#public-functions">QItemDelegate</a></li>
<li><div class="fn"/>7 public functions inherited from <a href="qabstractitemdelegate.html#public-functions">QAbstractItemDelegate</a></li>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="protected-functions"></a>
<h3>Protected Functions</h3>
<ul>
<li><div class="fn"/>virtual void <b><a href="qtopiaitemdelegate.html#drawAdditionalDecoration">drawAdditionalDecoration</a></b> ( QPainter * <i>painter</i>, const QStyleOptionViewItem &amp; <i>option</i>, const QRect &amp; <i>rect</i>, const QVariant &amp; <i>decoration</i> ) const</li>
<li><div class="fn"/>virtual void <b><a href="qtopiaitemdelegate.html#drawBackground">drawBackground</a></b> ( QPainter * <i>painter</i>, const QStyleOptionViewItem &amp; <i>option</i>, const QModelIndex &amp; <i>index</i> ) const</li>
<li><div class="fn"/>virtual void <b><a href="qtopiaitemdelegate.html#drawCheck">drawCheck</a></b> ( QPainter * <i>painter</i>, const QStyleOptionViewItem &amp; <i>option</i>, const QRect &amp; <i>rect</i>, Qt::CheckState <i>state</i> ) const</li>
<li><div class="fn"/>virtual void <b><a href="qtopiaitemdelegate.html#drawDecoration">drawDecoration</a></b> ( QPainter * <i>painter</i>, const QStyleOptionViewItem &amp; <i>option</i>, const QRect &amp; <i>rect</i>, const QPixmap &amp; <i>pixmap</i> ) const</li>
<li><div class="fn"/>virtual void <b><a href="qtopiaitemdelegate.html#drawDecoration-2">drawDecoration</a></b> ( QPainter * <i>painter</i>, const QStyleOptionViewItem &amp; <i>option</i>, const QRect &amp; <i>rect</i>, const QVariant &amp; <i>decoration</i> ) const</li>
<li><div class="fn"/>virtual void <b><a href="qtopiaitemdelegate.html#drawDisplay">drawDisplay</a></b> ( QPainter * <i>painter</i>, const QStyleOptionViewItem &amp; <i>option</i>, const QRect &amp; <i>rect</i>, const QString &amp; <i>text</i> ) const</li>
<li><div class="fn"/>virtual void <b><a href="qtopiaitemdelegate.html#drawFocus">drawFocus</a></b> ( QPainter * <i>painter</i>, const QStyleOptionViewItem &amp; <i>option</i>, const QRect &amp; <i>rect</i> ) const</li>
<li><div class="fn"/>virtual bool <b><a href="qtopiaitemdelegate.html#eventFilter">eventFilter</a></b> ( QObject * <i>editor</i>, QEvent * <i>event</i> )</li>
</ul>
<ul>
<li><div class="fn"/>6 protected functions inherited from <a href="qitemdelegate.html#protected-functions">QItemDelegate</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qitemdelegate.html#properties">QItemDelegate</a></li>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="qabstractitemdelegate.html#public-slots">QAbstractItemDelegate</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>2 signals inherited from <a href="qabstractitemdelegate.html#signals">QAbstractItemDelegate</a></li>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QtopiaItemDelegate class provides display and editing facilities for data items from a model.</p>
<p>QtopiaItemDelegate can be used to provide custom display features and editor widgets for item views based on <a href="qabstractitemview.html">QAbstractItemView</a> subclasses. Using a delegate for this purpose allows the display and editing mechanisms to be customized and developed independently from the model and view.</p>
<p>The QtopiaItemDelegate class is one of the <a href="model-view.html">Model/View Classes</a>.</p>
<p>When displaying items from a custom model in a standard view, it is often sufficient to simply ensure that the model returns appropriate data for each of the <a href="qt.html#ItemDataRole-enum">roles</a> that determine the appearance of items in views. The default delegate used by Qt's standard views uses this role information to display items in most of the common forms expected by users. However, it is sometimes necessary to have even more control over the appearance of items than the default delegate can provide.</p>
<p>This class provides default implementations of the functions for painting item data in a view, and editing data obtained from a model with the Qtopia look and feel.</p>
<p>Default implementations of the <a href="qtopiaitemdelegate.html#paint">paint</a>() and <a href="qtopiaitemdelegate.html#sizeHint">sizeHint</a>() virtual functions, defined in <a href="qabstractitemdelegate.html">QAbstractItemDelegate</a>, are provided to ensure that the delegate implements the correct basic behavior expected by views. You can reimplement these functions in subclasses to customize the appearance of items.</p>
<p>Delegates can be used to manipulate item data in two complementary ways: by processing events in the normal manner, or by implementing a custom editor widget. The item delegate takes the approach of providing a widget for editing purposes that can be supplied to QAbstractItemView::setDelegate() or the equivalent function in subclasses of <a href="qabstractitemview.html">QAbstractItemView</a>.</p>
<p>Only the standard editing functions for widget-based delegates are reimplemented here: editor() returns the widget used to change data from the model; <a href="qitemdelegate.html#setEditorData">setEditorData</a>() provides the widget with data to manipulate; <a href="qitemdelegate.html#updateEditorGeometry">updateEditorGeometry</a>() ensures that the editor is displayed correctly with respect to the item view; <a href="qitemdelegate.html#setModelData">setModelData</a>() returns the updated data to the model; releaseEditor() indicates that the user has completed editing the data, and that the editor widget can be destroyed.</p>
<a name="standard-roles-and-data-types"></a>
<h3>Standard Roles and Data Types</h3>
<p>The default delegate used by the standard views supplied with Qt associates each standard role (defined by <a href="qt.html#ItemDataRole-enum">Qt::ItemDataRole</a> and <a href="qtopia.html#ItemDataRole-enum">Qtopia::ItemDataRole</a>) with certain data types. Models that return data in these types can influence the appearance of the delegate as described in the following table.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Role</th><th>Accepted Types</th></tr></thead>
<tr valign="top" class="odd"><td><a href="qt.html#ItemDataRole-enum">Qt::BackgroundRole</a></td><td><a href="qbrush.html">QBrush</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#ItemDataRole-enum">Qt::BackgroundColorRole</a></td><td><a href="qcolor.html">QColor</a> (obsolete; use <a href="qt.html#ItemDataRole-enum">Qt::BackgroundRole</a> instead)</td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#ItemDataRole-enum">Qt::CheckStateRole</a></td><td><a href="qt.html#CheckState-enum">Qt::CheckState</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#ItemDataRole-enum">Qt::DecorationRole</a></td><td><a href="qicon.html">QIcon</a> and <a href="qcolor.html">QColor</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#ItemDataRole-enum">Qt::DisplayRole</a></td><td><a href="qstring.html">QString</a> and types with a string representation</td></tr>
<tr valign="top" class="even"><td><a href="qt.html#ItemDataRole-enum">Qt::EditRole</a></td><td>See <a href="qitemeditorfactory.html">QItemEditorFactory</a> for details</td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#ItemDataRole-enum">Qt::FontRole</a></td><td><a href="qfont.html">QFont</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#ItemDataRole-enum">Qt::SizeHintRole</a></td><td><a href="qsize.html">QSize</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#ItemDataRole-enum">Qt::TextAlignmentRole</a></td><td><a href="qt.html#Alignment-typedef">Qt::Alignment</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#ItemDataRole-enum">Qt::ForegroundRole</a></td><td><a href="qbrush.html">QBrush</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#ItemDataRole-enum">Qt::TextColorRole</a></td><td><a href="qcolor.html">QColor</a> (obsolete; use <a href="qt.html#ItemDataRole-enum">Qt::ForegroundRole</a> instead)</td></tr>
</table></p>
<p>If the default delegate does not allow the level of customization that you need, either for display purposes or for editing data, it is possible to subclass QtopiaItemDelegate to implement the desired behavior.</p>
<a name="subclassing"></a>
<h3>Subclassing</h3>
<p>When subclassing QtopiaItemDelegate to create a delegate that displays items using a custom renderer, it is important to ensure that the delegate can render items suitably for all the required states; e.g&#x2e; selected, disabled, checked. The documentation for the <a href="qtopiaitemdelegate.html#paint">paint</a>() function contains some hints to show how this can be achieved.</p>
<p>Custom editing features for can be added by subclassing QtopiaItemDelegate and reimplementing <a href="qitemdelegate.html#createEditor">createEditor</a>(), <a href="qitemdelegate.html#setEditorData">setEditorData</a>(), <a href="qitemdelegate.html#setModelData">setModelData</a>(), and <a href="qitemdelegate.html#updateEditorGeometry">updateEditorGeometry</a>(). This process is described in the <a href="itemviews-spinboxdelegate.html">Spin Box Delegate example</a>.</p>
<p>See also <a href="model-view-delegate.html">Delegate Classes</a>, <a href="qitemdelegate.html">QItemDelegate</a>, <a href="qabstractitemdelegate.html">QAbstractItemDelegate</a>, <a href="itemviews-spinboxdelegate.html">Spin Box Delegate Example</a>, <a href="tools-settingseditor.html">Settings Editor Example</a>, and <a href="widgets-icons.html">Icons Example</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QtopiaItemDelegate"></a>QtopiaItemDelegate::QtopiaItemDelegate ( <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs an item delegate with the given <i>parent</i>.</p>
<h3 class="fn"><a name="dtor.QtopiaItemDelegate"></a>QtopiaItemDelegate::~QtopiaItemDelegate ()</h3>
<p>Destroys the item delegate.</p>
<h3 class="fn"><a name="drawAdditionalDecoration"></a>void QtopiaItemDelegate::drawAdditionalDecoration ( <a href="qpainter.html">QPainter</a> * <i>painter</i>, const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qrect.html">QRect</a> &amp; <i>rect</i>, const <a href="qvariant.html">QVariant</a> &amp; <i>decoration</i> ) const&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Renders the additional <i>decoration</i> within the rectangle specified by <i>rect</i> using the given <i>painter</i> and style <i>option</i>.</p>
<h3 class="fn"><a name="drawBackground"></a>void QtopiaItemDelegate::drawBackground ( <a href="qpainter.html">QPainter</a> * <i>painter</i>, const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qmodelindex.html">QModelIndex</a> &amp; <i>index</i> ) const&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Renders the item background for the given <i>index</i>, using the given <i>painter</i> and style <i>option</i>.</p>
<h3 class="fn"><a name="drawCheck"></a>void QtopiaItemDelegate::drawCheck ( <a href="qpainter.html">QPainter</a> * <i>painter</i>, const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qrect.html">QRect</a> &amp; <i>rect</i>, <a href="qt.html#CheckState-enum">Qt::CheckState</a> <i>state</i> ) const&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Renders a check indicator within the rectangle specified by <i>rect</i>, using the given <i>painter</i> and style <i>option</i>, using the given <i>state</i>.</p>
<p>Reimplemented from <a href="qitemdelegate.html#drawCheck">QItemDelegate</a>.</p>
<h3 class="fn"><a name="drawDecoration"></a>void QtopiaItemDelegate::drawDecoration ( <a href="qpainter.html">QPainter</a> * <i>painter</i>, const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qrect.html">QRect</a> &amp; <i>rect</i>, const <a href="qpixmap.html">QPixmap</a> &amp; <i>pixmap</i> ) const&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Renders the <i>pixmap</i> within the rectangle specified by <i>rect</i> using the given <i>painter</i> and style <i>option</i>.</p>
<p>Reimplemented from <a href="qitemdelegate.html#drawDecoration">QItemDelegate</a>.</p>
<h3 class="fn"><a name="drawDecoration-2"></a>void QtopiaItemDelegate::drawDecoration ( <a href="qpainter.html">QPainter</a> * <i>painter</i>, const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qrect.html">QRect</a> &amp; <i>rect</i>, const <a href="qvariant.html">QVariant</a> &amp; <i>decoration</i> ) const&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Renders the <i>decoration</i> within the rectangle specified by <i>rect</i> using the given <i>painter</i> and style <i>option</i>.</p>
<h3 class="fn"><a name="drawDisplay"></a>void QtopiaItemDelegate::drawDisplay ( <a href="qpainter.html">QPainter</a> * <i>painter</i>, const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qrect.html">QRect</a> &amp; <i>rect</i>, const <a href="qstring.html">QString</a> &amp; <i>text</i> ) const&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Renders the item view <i>text</i> within the rectangle specified by <i>rect</i> using the given <i>painter</i> and style <i>option</i>.</p>
<p>Reimplemented from <a href="qitemdelegate.html#drawDisplay">QItemDelegate</a>.</p>
<h3 class="fn"><a name="drawFocus"></a>void QtopiaItemDelegate::drawFocus ( <a href="qpainter.html">QPainter</a> * <i>painter</i>, const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qrect.html">QRect</a> &amp; <i>rect</i> ) const&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Renders the region within the rectangle specified by <i>rect</i>, indicating that it has the focus, using the given <i>painter</i> and style <i>option</i>.</p>
<p>Reimplemented from <a href="qitemdelegate.html#drawFocus">QItemDelegate</a>.</p>
<h3 class="fn"><a name="eventFilter"></a>bool QtopiaItemDelegate::eventFilter ( <a href="qobject.html">QObject</a> * <i>editor</i>, <a href="qevent.html">QEvent</a> * <i>event</i> )&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Returns true if the given <i>editor</i> is a valid <a href="qwidget.html">QWidget</a> and the given <i>event</i> is handled; otherwise returns false. The following key press events are handled by default:</p>
<ul>
<li><b>Tab</b></li>
<li><b>Backtab</b></li>
<li><b>Enter</b></li>
<li><b>Return</b></li>
<li><b>Esc</b></li>
</ul>
<p>In the case of <b>Tab</b>, <b>Backtab</b>, <b>Enter</b> and <b>Return</b> key press events, the <i>editor</i>'s data is comitted to the model and the editor is closed. If the <i>event</i> is a <b>Tab</b> key press the view will open an editor on the next item in the view. Likewise, if the <i>event</i> is a <b>Backtab</b> key press the view will open an editor on the <i>previous</i> item in the view.</p>
<p>If the event is a <b>Esc</b> key press event, the <i>editor</i> is closed <i>without</i> committing its data.</p>
<p>Reimplemented from <a href="qobject.html#eventFilter">QObject</a>.</p>
<p>See also <a href="qabstractitemdelegate.html#commitData">commitData</a>() and <a href="qabstractitemdelegate.html#closeEditor">closeEditor</a>().</p>
<h3 class="fn"><a name="paint"></a>void QtopiaItemDelegate::paint ( <a href="qpainter.html">QPainter</a> * <i>painter</i>, const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qmodelindex.html">QModelIndex</a> &amp; <i>index</i> ) const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Renders the delegate using the given <i>painter</i> and style <i>option</i> for the item specified by <i>index</i>.</p>
<p>When reimplementing this function in a subclass, you should update the area held by the option's <a href="qstyleoption.html#rect-var">rect</a> variable, using the option's <a href="qstyleoption.html#state-var">state</a> variable to determine the state of the item to be displayed, and adjust the way it is painted accordingly. For example, a selected item may need to be displayed differently to unselected items.</p>
<p>After painting, you should ensure that the painter is returned to its the state it was supplied in when this function was called. For example, it may be useful to call <a href="qpainter.html#save">QPainter::save</a>() before painting and <a href="qpainter.html#restore">QPainter::restore</a>() afterwards.</p>
<p>Reimplemented from <a href="qabstractitemdelegate.html#paint">QAbstractItemDelegate</a>.</p>
<p>See also <a href="qstyle.html#State-typedef">QStyle::State</a>.</p>
<h3 class="fn"><a name="sizeHint"></a><a href="qsize.html">QSize</a> QtopiaItemDelegate::sizeHint ( const <a href="qstyleoptionviewitem.html">QStyleOptionViewItem</a> &amp; <i>option</i>, const <a href="qmodelindex.html">QModelIndex</a> &amp; <i>index</i> ) const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the size needed by the delegate to display the item specified by <i>index</i>, taking into account the style information provided by <i>option</i>.</p>
<p>When reimplementing this function, note that in case of text items, <a href="qtopiaitemdelegate.html">QtopiaItemDelegate</a> adds a margin (i.e&#x2e; 2 * <a href="qstyle.html#PixelMetric-enum">QStyle::PM_FocusFrameHMargin</a>) to the length of the text.</p>
<p>Reimplemented from <a href="qabstractitemdelegate.html#sizeHint">QAbstractItemDelegate</a>.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.2</div></td>
</tr></table></div></address></body>
</html>

<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QMailMessageListModel Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top"><img src="images/codeless.png" align="right" border="0" /></td></tr></table><h1 class="title">QMailMessageListModel Class Reference<br /><span class="small-subtitle">[<a href="qtmessagingmodule.html">QtMessagingModule</a>, <a href="qtpimmodule.html">QtPimModule</a>]</span>
</h1>
<p>The QMailMessageListModel class provides access to a list of stored messages. <a href="#details">More...</a></p>
<pre>    #include &lt;QMailMessageListModel&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<p>Inherits <a href="qabstractlistmodel.html">QAbstractListModel</a>.</p>
<ul>
<li><a href="qmailmessagelistmodel-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qmailmessagelistmodel.html#Roles-enum">Roles</a></b> { MessageAddressTextRole, MessageSubjectTextRole, MessageFilterTextRole, MessageTimeStampTextRole, ..., MessageIdRole }</li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qmailmessagelistmodel.html#QMailMessageListModel">QMailMessageListModel</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/>virtual <b><a href="qmailmessagelistmodel.html#dtor.QMailMessageListModel">~QMailMessageListModel</a></b> ()</li>
<li><div class="fn"/>QMailMessageId <b><a href="qmailmessagelistmodel.html#idFromIndex">idFromIndex</a></b> ( const QModelIndex &amp; <i>index</i> ) const</li>
<li><div class="fn"/>bool <b><a href="qmailmessagelistmodel.html#ignoreMailStoreUpdates">ignoreMailStoreUpdates</a></b> () const</li>
<li><div class="fn"/>QModelIndex <b><a href="qmailmessagelistmodel.html#indexFromId">indexFromId</a></b> ( const QMailMessageId &amp; <i>id</i> ) const</li>
<li><div class="fn"/>bool <b><a href="qmailmessagelistmodel.html#isEmpty">isEmpty</a></b> () const</li>
<li><div class="fn"/>QMailMessageKey <b><a href="qmailmessagelistmodel.html#key">key</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qmailmessagelistmodel.html#setIgnoreMailStoreUpdates">setIgnoreMailStoreUpdates</a></b> ( bool <i>ignore</i> )</li>
<li><div class="fn"/>void <b><a href="qmailmessagelistmodel.html#setKey">setKey</a></b> ( const QMailMessageKey &amp; <i>key</i> )</li>
<li><div class="fn"/>void <b><a href="qmailmessagelistmodel.html#setSortKey">setSortKey</a></b> ( const QMailMessageSortKey &amp; <i>sortKey</i> )</li>
<li><div class="fn"/>QMailMessageSortKey <b><a href="qmailmessagelistmodel.html#sortKey">sortKey</a></b> () const</li>
</ul>
<ul>
<li><div class="fn"/>1 public function inherited from <a href="qabstractlistmodel.html#public-functions">QAbstractListModel</a></li>
<li><div class="fn"/>34 public functions inherited from <a href="qabstractitemmodel.html#public-functions">QAbstractItemModel</a></li>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="qmailmessagelistmodel.html#modelChanged">modelChanged</a></b> ()</li>
</ul>
<ul>
<li><div class="fn"/>14 signals inherited from <a href="qabstractitemmodel.html#signals">QAbstractItemModel</a></li>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>2 public slots inherited from <a href="qabstractitemmodel.html#public-slots">QAbstractItemModel</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>14 protected functions inherited from <a href="qabstractitemmodel.html#protected-functions">QAbstractItemModel</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QMailMessageListModel class provides access to a list of stored messages.</p>
<p>The QQMailMessageListModel presents a list of all the messages currently stored in the message store. By using the <a href="qmailmessagelistmodel.html#setKey">setKey</a>() and <a href="qmailmessagelistmodel.html#sortKey">sortKey</a>() functions it is possible to have the model represent specific user filtered subsets of messages sorted in a particular order.</p>
<p>The QMailMessageListModel is a descendant of <a href="qabstractlistmodel.html">QAbstractListModel</a>, so it is suitable for use with the Qt View classes such as <a href="qlistview.html">QListView</a> to visually represent lists of messages.</p>
<p>The model listens for changes reported by the <a href="qmailstore.html">QMailStore</a>, and automatically synchronizes its content with that of the store. This behaviour can be optionally or temporarily disabled by calling the <a href="qmailmessagelistmodel.html#setIgnoreMailStoreUpdates">setIgnoreMailStoreUpdates</a>() function.</p>
<p>Messages can be extracted from the view with the <a href="qmailmessagelistmodel.html#idFromIndex">idFromIndex</a>() function and the resultant id can be used to load a message from the store.</p>
<p>For filters or sorting not provided by the QMailMessageListModel it is recommended that <a href="qsortfilterproxymodel.html">QSortFilterProxyModel</a> is used to wrap the model to provide custom sorting and filtering.</p>
<p>See also <a href="qmailmessage.html">QMailMessage</a> and <a href="qsortfilterproxymodel.html">QSortFilterProxyModel</a>.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="Roles-enum"></a>enum QMailMessageListModel::Roles</h3>
<p>Represents common display roles of a message. These roles are used to display common message elements in a view and its attached delegates.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageAddressTextRole</tt></td><td align="center" valign="top"><tt>Qt::UserRole</tt></td><td valign="top">The address text of a message. This a can represent a name if the address is tied to a contact in the addressbook and represents either the incoming or outgoing address depending on the message direction.</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageSubjectTextRole</tt></td><td align="center" valign="top">?</td><td valign="top">The subject of a message. For-non email messages this may represent the body text of a message.</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageFilterTextRole</tt></td><td align="center" valign="top">?</td><td valign="top">The MessageAddressTextRole concatenated with the MessageSubjectTextRole. This can be used by filtering classes to filter messages based on the text of these commonly displayed roles.</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageTimeStampTextRole</tt></td><td align="center" valign="top">?</td><td valign="top">The timestamp of a message. &quot;Recieved&quot; or &quot;Sent&quot; is prepended to the timestamp string depending on the message direction.</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageTypeIconRole</tt></td><td align="center" valign="top">?</td><td valign="top">An Icon representing the type of the message.</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageStatusIconRole</tt></td><td align="center" valign="top">?</td><td valign="top">An Icon representing the status of the message. e.g Read, Unread, Downloaded</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageDirectionIconRole</tt></td><td align="center" valign="top">?</td><td valign="top">An Icon representing the incoming or outgoing direction of a message.</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessagePresenceIconRole</tt></td><td align="center" valign="top">?</td><td valign="top">An Icon representing the presence status of the contact associated with the MessageAddressTextRole.</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageBodyTextRole</tt></td><td align="center" valign="top">?</td><td valign="top">The body of a message represented as text.</td></tr>
<tr><td valign="top"><tt>QMailMessageListModel::MessageIdRole</tt></td><td align="center" valign="top">?</td><td valign="top">The <a href="qmailmessageid.html">QMailMessageId</a> value identifying the message.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QMailMessageListModel"></a>QMailMessageListModel::QMailMessageListModel ( <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a <a href="qmailmessagelistmodel.html">QMailMessageListModel</a> with a parent <i>parent</i>.</p>
<p>By default, the model will match all messages in the database, and display them in the order they were submitted, and mail store updates are not ignored.</p>
<p>See also <a href="qmailmessagelistmodel.html#setKey">setKey</a>(), <a href="qmailmessagelistmodel.html#setSortKey">setSortKey</a>(), and <a href="qmailmessagelistmodel.html#setIgnoreMailStoreUpdates">setIgnoreMailStoreUpdates</a>().</p>
<h3 class="fn"><a name="dtor.QMailMessageListModel"></a>QMailMessageListModel::~QMailMessageListModel ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Deletes the <a href="qmailmessagelistmodel.html">QMailMessageListModel</a> object.</p>
<h3 class="fn"><a name="idFromIndex"></a><a href="qmailmessageid.html">QMailMessageId</a> QMailMessageListModel::idFromIndex ( const <a href="qmodelindex.html">QModelIndex</a> &amp; <i>index</i> ) const</h3>
<p>Returns the <a href="qmailmessageid.html">QMailMessageId</a> of the message represented by the <a href="qmodelindex.html">QModelIndex</a> <i>index</i>. If the index is not valid an invalid <a href="qmailmessageid.html">QMailMessageId</a> is returned.</p>
<h3 class="fn"><a name="ignoreMailStoreUpdates"></a>bool QMailMessageListModel::ignoreMailStoreUpdates () const</h3>
<p>Returns true if the model has been set to ignore updates emitted by the mail store; otherwise returns false.</p>
<p>See also <a href="qmailmessagelistmodel.html#setIgnoreMailStoreUpdates">setIgnoreMailStoreUpdates</a>().</p>
<h3 class="fn"><a name="indexFromId"></a><a href="qmodelindex.html">QModelIndex</a> QMailMessageListModel::indexFromId ( const <a href="qmailmessageid.html">QMailMessageId</a> &amp; <i>id</i> ) const</h3>
<p>Returns the <a href="qmodelindex.html">QModelIndex</a> that represents the message with <a href="qmailmessageid.html">QMailMessageId</a> <i>id</i>. If the id is not conatained in this model, an invalid <a href="qmodelindex.html">QModelIndex</a> is returned.</p>
<h3 class="fn"><a name="isEmpty"></a>bool QMailMessageListModel::isEmpty () const</h3>
<p>Returns true if the model contains no messages.</p>
<h3 class="fn"><a name="key"></a><a href="qmailmessagekey.html">QMailMessageKey</a> QMailMessageListModel::key () const</h3>
<p>Returns the <a href="qmailmessagekey.html">QMailMessageKey</a> used to populate the contents of this model.</p>
<p>See also <a href="qmailmessagelistmodel.html#setKey">setKey</a>().</p>
<h3 class="fn"><a name="modelChanged"></a>void QMailMessageListModel::modelChanged ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Signal emitted when the data set represented by the model is changed. Unlike <a href="qabstractitemmodel.html#modelReset">modelReset</a>(), the modelChanged() signal can not be emitted as a result of changes occurring in the current data set.</p>
<h3 class="fn"><a name="setIgnoreMailStoreUpdates"></a>void QMailMessageListModel::setIgnoreMailStoreUpdates ( bool <i>ignore</i> )</h3>
<p>Sets whether or not mail store updates are ignored to <i>ignore</i>.</p>
<p>If ignoring updates is set to true, the model will ignore updates reported by the mail store. If set to false, the model will automatically synchronize its content in reaction to updates reported by the mail store.</p>
<p>If updates are ignored, signals such as rowInserted and dataChanged will not be emitted; instead, the modelReset signal will be emitted when the model is later changed to stop ignoring mail store updates, and detailed change information will not be accessible.</p>
<p>See also <a href="qmailmessagelistmodel.html#ignoreMailStoreUpdates">ignoreMailStoreUpdates</a>().</p>
<h3 class="fn"><a name="setKey"></a>void QMailMessageListModel::setKey ( const <a href="qmailmessagekey.html">QMailMessageKey</a> &amp; <i>key</i> )</h3>
<p>Sets the <a href="qmailmessagekey.html">QMailMessageKey</a> used to populate the contents of the model to <i>key</i>. If the key is empty, the model is populated with all the messages from the database.</p>
<p>See also <a href="qmailmessagelistmodel.html#key">key</a>().</p>
<h3 class="fn"><a name="setSortKey"></a>void QMailMessageListModel::setSortKey ( const <a href="qmailmessagesortkey.html">QMailMessageSortKey</a> &amp; <i>sortKey</i> )</h3>
<p>Sets the <a href="qmailmessagesortkey.html">QMailMessageSortKey</a> used to sort the contents of the model to <i>sortKey</i>. If the sort key is invalid, no sorting is applied to the model contents and messages are displayed in the order in which they were added into the database.</p>
<p>See also <a href="qmailmessagelistmodel.html#sortKey">sortKey</a>().</p>
<h3 class="fn"><a name="sortKey"></a><a href="qmailmessagesortkey.html">QMailMessageSortKey</a> QMailMessageListModel::sortKey () const</h3>
<p>Returns the <a href="qmailmessagesortkey.html">QMailMessageSortKey</a> used to sort the contents of the model.</p>
<p>See also <a href="qmailmessagelistmodel.html#setSortKey">setSortKey</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.1</div></td>
</tr></table></div></address></body>
</html>

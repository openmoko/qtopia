<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QWapAccount Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 class="title">QWapAccount Class Reference</h1>
<p>The QWapAccount class provides a wrapper around configuration files for WAP accounts. <a href="#details">More...</a></p>
<pre>    #include &lt;QWapAccount&gt;</pre><ul>
<li><a href="qwapaccount-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qwapaccount.html#MMSVisibility-enum">MMSVisibility</a></b> { Default, SenderHidden, SenderVisible }</li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qwapaccount.html#QWapAccount">QWapAccount</a></b> ()</li>
<li><div class="fn"/><b><a href="qwapaccount.html#QWapAccount-2">QWapAccount</a></b> ( const QString &amp; <i>wapConfig</i> )</li>
<li><div class="fn"/><b><a href="qwapaccount.html#QWapAccount-3">QWapAccount</a></b> ( const QWapAccount &amp; <i>other</i> )</li>
<li><div class="fn"/>virtual <b><a href="qwapaccount.html#dtor.QWapAccount">~QWapAccount</a></b> ()</li>
<li><div class="fn"/>QString <b><a href="qwapaccount.html#configuration">configuration</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qwapaccount.html#dataInterface">dataInterface</a></b> () const</li>
<li><div class="fn"/>QUrl <b><a href="qwapaccount.html#gateway">gateway</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qwapaccount.html#mmsDeliveryReport">mmsDeliveryReport</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qwapaccount.html#mmsExpiry">mmsExpiry</a></b> () const</li>
<li><div class="fn"/>QWapAccount::MMSVisibility <b><a href="qwapaccount.html#mmsSenderVisibility">mmsSenderVisibility</a></b> () const</li>
<li><div class="fn"/>QUrl <b><a href="qwapaccount.html#mmsServer">mmsServer</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qwapaccount.html#name">name</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qwapaccount.html#setDataInterface">setDataInterface</a></b> ( const QString &amp; <i>ifaceHandle</i> )</li>
<li><div class="fn"/>void <b><a href="qwapaccount.html#setGateway">setGateway</a></b> ( const QUrl &amp; <i>url</i> )</li>
<li><div class="fn"/>void <b><a href="qwapaccount.html#setMmsDeliveryReport">setMmsDeliveryReport</a></b> ( bool <i>delRpt</i> )</li>
<li><div class="fn"/>void <b><a href="qwapaccount.html#setMmsExpiry">setMmsExpiry</a></b> ( int <i>mmsExpiry</i> )</li>
<li><div class="fn"/>void <b><a href="qwapaccount.html#setMmsSenderVisibility">setMmsSenderVisibility</a></b> ( QWapAccount::MMSVisibility <i>v</i> )</li>
<li><div class="fn"/>void <b><a href="qwapaccount.html#setMmsServer">setMmsServer</a></b> ( const QUrl &amp; <i>url</i> )</li>
<li><div class="fn"/>void <b><a href="qwapaccount.html#setName">setName</a></b> ( const QString &amp; <i>name</i> )</li>
<li><div class="fn"/>QWapAccount &amp; <b><a href="qwapaccount.html#operator-eq">operator=</a></b> ( const QWapAccount &amp; <i>other</i> )</li>
<li><div class="fn"/>bool <b><a href="qwapaccount.html#operator-eq-eq">operator==</a></b> ( const QWapAccount &amp; <i>other</i> )</li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QWapAccount class provides a wrapper around configuration files for WAP accounts.</p>
<p>Qtopia WAP account configurations are saved under <tt>$HOME/Applications/Network/wap</tt> and can either be accessed via <a href="qsettings.html">QSettings</a> or QWapAccount. However QWapAccount should be the preferred option because it does not require any knowledge of configuration file format which may change in the future.</p>
<pre>    QString configPath = Qtopia::applicationFileName( &quot;Network&quot;, &quot;wap&quot; );
    QDir configDir( configPath );
    QStringList files = configDir.entryList( QStringList(&quot;*.conf&quot;) );

<span class="comment">    //just use first entry</span>
    foreach(QString acc, files )
    {
        QWapAccount wap( acc );
    }</pre>
<p>The various functions in this class reflect the various parameters which are stored in the WAP configuration.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="MMSVisibility-enum"></a>enum QWapAccount::MMSVisibility</h3>
<p>This enum specifies the sender vsibility for MMS messages.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QWapAccount::Default</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">the visibility is chosen by the transfer agent</td></tr>
<tr><td valign="top"><tt>QWapAccount::SenderHidden</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">the sender address is not revealed</td></tr>
<tr><td valign="top"><tt>QWapAccount::SenderVisible</tt></td><td align="center" valign="top"><tt>2</tt></td><td valign="top">the sender address is part of the message</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QWapAccount"></a>QWapAccount::QWapAccount ()</h3>
<p>Creates a new WAP account.</p>
<h3 class="fn"><a name="QWapAccount-2"></a>QWapAccount::QWapAccount ( const <a href="qstring.html">QString</a> &amp; <i>wapConfig</i> )</h3>
<p>Creates a new WAP account and reads the details from <i>wapConfig</i>. If <i>wapConfig</i> is empty or doesn't exist a new account is created.</p>
<h3 class="fn"><a name="QWapAccount-3"></a>QWapAccount::QWapAccount ( const QWapAccount &amp; <i>other</i> )</h3>
<p>Creates a new WAP account by copying the <i>other</i> WAP account.</p>
<h3 class="fn"><a name="dtor.QWapAccount"></a>QWapAccount::~QWapAccount ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Destroys the WAP account object.</p>
<h3 class="fn"><a name="configuration"></a><a href="qstring.html">QString</a> QWapAccount::configuration () const</h3>
<p>Returns the configuration file (file path and name ) where the details for this WAP account are stored.</p>
<h3 class="fn"><a name="dataInterface"></a><a href="qstring.html">QString</a> QWapAccount::dataInterface () const</h3>
<p>Returns the data interface that is related to this WAP account. This is useful when providers require specific APNs, usernames or passwords when connecting to the WAP gateway. The returns string is the path to the associated data account. The status of the data interface can be retrieved by using <a href="qnetworkdevice.html">QNetworkDevice</a>.</p>
<pre>    QWapAccount acc;
    ...
    if ( !acc.dataInterface().isEmpty() ) {
        <span class="comment">//get state of associated account</span>
        QNetworkDevice interface( acc.dataInterface() );
        QtopiaNetworkInterface::Status s = interface.state();
        ...
        <span class="comment">//start interface so that we can use this WAP account</span>
        if ( s != QtopiaNetworkInterface::Up )
            QtopiaNetwork::startInterface( acc.dataInterface() );
    }</pre>
<p>This function returns an empty string if there is no associated account.</p>
<p>See also <a href="qwapaccount.html#setDataInterface">setDataInterface</a>(), <a href="qnetworkdevice.html">QNetworkDevice</a>, and <a href="qtopianetwork.html">QtopiaNetwork</a>.</p>
<h3 class="fn"><a name="gateway"></a><a href="qurl.html">QUrl</a> QWapAccount::gateway () const</h3>
<p>Returns the URL of the WAP gateway (including port, login and password).</p>
<pre>    QWapAccount acc(...)
    ...
    QUrl gateway = acc.gateway();
    QString password = gateway.password();
    QString username = gateway.userName();</pre>
<p>See also <a href="qwapaccount.html#setGateway">setGateway</a>() and <a href="qurl.html">QUrl</a>.</p>
<h3 class="fn"><a name="mmsDeliveryReport"></a>bool QWapAccount::mmsDeliveryReport () const</h3>
<p>Returns true when the sender permits delivery reports for send MMS messages.</p>
<p>See also <a href="qwapaccount.html#setMmsDeliveryReport">setMmsDeliveryReport</a>().</p>
<h3 class="fn"><a name="mmsExpiry"></a>int QWapAccount::mmsExpiry () const</h3>
<p>Returns the expiry time for MMS messages in hours.</p>
<p>See also <a href="qwapaccount.html#setMmsExpiry">setMmsExpiry</a>().</p>
<h3 class="fn"><a name="mmsSenderVisibility"></a><a href="qwapaccount.html#MMSVisibility-enum">QWapAccount::MMSVisibility</a> QWapAccount::mmsSenderVisibility () const</h3>
<p>Returns the sender visibility for MMS messages.</p>
<p>See also <a href="qwapaccount.html#setMmsSenderVisibility">setMmsSenderVisibility</a>().</p>
<h3 class="fn"><a name="mmsServer"></a><a href="qurl.html">QUrl</a> QWapAccount::mmsServer () const</h3>
<p>Returns the URL of the MMS serveri (including the port).</p>
<p>See also <a href="qwapaccount.html#setMmsServer">setMmsServer</a>() and <a href="qurl.html">QUrl</a>.</p>
<h3 class="fn"><a name="name"></a><a href="qstring.html">QString</a> QWapAccount::name () const</h3>
<p>Returns the user visible name of this WAP account.</p>
<p>See also <a href="qwapaccount.html#setName">setName</a>().</p>
<h3 class="fn"><a name="setDataInterface"></a>void QWapAccount::setDataInterface ( const <a href="qstring.html">QString</a> &amp; <i>ifaceHandle</i> )</h3>
<p><i>ifaceHandle</i> becomes the default data interface for this WAP account.</p>
<p>See also <a href="qwapaccount.html#dataInterface">dataInterface</a>().</p>
<h3 class="fn"><a name="setGateway"></a>void QWapAccount::setGateway ( const <a href="qurl.html">QUrl</a> &amp; <i>url</i> )</h3>
<p><i>url</i> points to the new WAP gateway.</p>
<p>See also <a href="qwapaccount.html#gateway">gateway</a>().</p>
<h3 class="fn"><a name="setMmsDeliveryReport"></a>void QWapAccount::setMmsDeliveryReport ( bool <i>delRpt</i> )</h3>
<p>Sets the MMS delivery report permission to <i>delRpt</i>.</p>
<p>See also <a href="qwapaccount.html#mmsDeliveryReport">mmsDeliveryReport</a>().</p>
<h3 class="fn"><a name="setMmsExpiry"></a>void QWapAccount::setMmsExpiry ( int <i>mmsExpiry</i> )</h3>
<p>Sets the expiry time for MMS messages to <i>mmsExpiry</i> hours.</p>
<p>See also <a href="qwapaccount.html#mmsExpiry">mmsExpiry</a>().</p>
<h3 class="fn"><a name="setMmsSenderVisibility"></a>void QWapAccount::setMmsSenderVisibility ( <a href="qwapaccount.html#MMSVisibility-enum">QWapAccount::MMSVisibility</a> <i>v</i> )</h3>
<p>Sets the MMS sender visibility to <i>v</i>.</p>
<p>See also <a href="qwapaccount.html#mmsSenderVisibility">mmsSenderVisibility</a>().</p>
<h3 class="fn"><a name="setMmsServer"></a>void QWapAccount::setMmsServer ( const <a href="qurl.html">QUrl</a> &amp; <i>url</i> )</h3>
<p><i>url</i> points to the new MMS server.</p>
<p>See also <a href="qwapaccount.html#mmsServer">mmsServer</a>().</p>
<h3 class="fn"><a name="setName"></a>void QWapAccount::setName ( const <a href="qstring.html">QString</a> &amp; <i>name</i> )</h3>
<p><i>name</i> becomes the new name for this WAP account.</p>
<p>See also <a href="qwapaccount.html#name">name</a>().</p>
<h3 class="fn"><a name="operator-eq"></a>QWapAccount &amp; QWapAccount::operator= ( const QWapAccount &amp; <i>other</i> )</h3>
<p>Assignment operator. Sets data on this to be what is set on <i>other</i>.</p>
<h3 class="fn"><a name="operator-eq-eq"></a>bool QWapAccount::operator== ( const QWapAccount &amp; <i>other</i> )</h3>
<p>Returns true if this WAP account is the same as <i>other</i>. Two <a href="qwapaccount.html">QWapAccount</a> object are equal if they refer to the same configuration file.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.2</div></td>
</tr></table></div></address></body>
</html>

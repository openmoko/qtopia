<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QBluetoothL2CapDatagramSocket Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 class="title">QBluetoothL2CapDatagramSocket Class Reference</h1>
<p>The QBluetoothL2CapDatagramSocket class represents an L2CAP Datagram Socket. <a href="#details">More...</a></p>
<pre>    #include &lt;QBluetoothL2CapDatagramSocket&gt;</pre><p>Inherits <a href="qbluetoothabstractsocket.html">QBluetoothAbstractSocket</a>.</p>
<ul>
<li><a href="qbluetoothl2capdatagramsocket-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qbluetoothl2capdatagramsocket.html#QBluetoothL2CapDatagramSocket">QBluetoothL2CapDatagramSocket</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qbluetoothl2capdatagramsocket.html#dtor.QBluetoothL2CapDatagramSocket">~QBluetoothL2CapDatagramSocket</a></b> ()</li>
<li><div class="fn"/>bool <b><a href="qbluetoothl2capdatagramsocket.html#bind">bind</a></b> ( const QBluetoothAddress &amp; <i>local</i>, int <i>psm</i>, int <i>mtu</i> = 672 )</li>
<li><div class="fn"/>bool <b><a href="qbluetoothl2capdatagramsocket.html#connect">connect</a></b> ( const QBluetoothAddress &amp; <i>local</i>, const QBluetoothAddress &amp; <i>remote</i>, int <i>psm</i>, int <i>incomingMtu</i> = 672, int <i>outgoingMtu</i> = 672 )</li>
<li><div class="fn"/>int <b><a href="qbluetoothl2capdatagramsocket.html#incomingMtu">incomingMtu</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qbluetoothl2capdatagramsocket.html#isAuthenticated">isAuthenticated</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qbluetoothl2capdatagramsocket.html#isEncrypted">isEncrypted</a></b> () const</li>
<li><div class="fn"/>QBluetoothAddress <b><a href="qbluetoothl2capdatagramsocket.html#localAddress">localAddress</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qbluetoothl2capdatagramsocket.html#localPsm">localPsm</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qbluetoothl2capdatagramsocket.html#outgoingMtu">outgoingMtu</a></b> () const</li>
<li><div class="fn"/>qint64 <b><a href="qbluetoothl2capdatagramsocket.html#readDatagram">readDatagram</a></b> ( char * <i>data</i>, qint64 <i>maxSize</i>, QBluetoothAddress * <i>address</i> = 0, int * <i>psm</i> = 0 )</li>
<li><div class="fn"/>QBluetoothAddress <b><a href="qbluetoothl2capdatagramsocket.html#remoteAddress">remoteAddress</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qbluetoothl2capdatagramsocket.html#remotePsm">remotePsm</a></b> () const</li>
<li><div class="fn"/>QBluetooth::SecurityOptions <b><a href="qbluetoothl2capdatagramsocket.html#securityOptions">securityOptions</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qbluetoothl2capdatagramsocket.html#setSecurityOptions">setSecurityOptions</a></b> ( QBluetooth::SecurityOptions <i>options</i> )</li>
</ul>
<ul>
<li><div class="fn"/>15 public functions inherited from <a href="qbluetoothabstractsocket.html#public-functions">QBluetoothAbstractSocket</a></li>
<li><div class="fn"/>32 public functions inherited from <a href="./qiodevice.html#public-functions">QIODevice</a></li>
<li><div class="fn"/>29 public functions inherited from <a href="./qobject.html#public-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="./qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="./qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>4 signals inherited from <a href="qbluetoothabstractsocket.html#signals">QBluetoothAbstractSocket</a></li>
<li><div class="fn"/>3 signals inherited from <a href="./qiodevice.html#signals">QIODevice</a></li>
<li><div class="fn"/>1 signal inherited from <a href="./qobject.html#signals">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="./qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="./qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>5 protected functions inherited from <a href="./qiodevice.html#protected-functions">QIODevice</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="./qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="./qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QBluetoothL2CapDatagramSocket class represents an L2CAP Datagram Socket.</p>
<p>The Bluetooth L2CAP protocol provides reliable connection-oriented and unreliable connectionless data services. It is a lower layer protocol than RFCOMM.</p>
<p>PSM stands for Port and Service Multiplexer. The PSM value can be any <b>odd</b> value the range of 1-32765. For more information please see Bluetooth Specification Version 2.0 + EDR [vol 4] page 45.</p>
<p>The implementation of L2CAP Datagram protocol under Linux uses sockets, and is in general very similar to UDP socket programming.</p>
<p>The most common way to use this class is to call <a href="qbluetoothl2capdatagramsocket.html#connect">connect</a>() and then <a href="./qiodevice.html#write">write</a>() and <a href="./qiodevice.html#read">read</a>() to write and read the data. If you only wish to receive data, call <a href="qbluetoothl2capdatagramsocket.html#bind">bind</a>() and use the <a href="qbluetoothl2capdatagramsocket.html#readDatagram">readDatagram</a>() function.</p>
<p>Note that unlike UDP, the L2Cap Datagram socket must be connected first by using <a href="qbluetoothl2capdatagramsocket.html#connect">connect</a>().</p>
<p>Note that special attention should be paid to the incoming and outgoing MTU sizes. These determine in what size chunks the data should be read / written.</p>
<p><b>NOTE:</b> The socket is not buffered. All reads and writes happen immediately. The user must be prepared to deal with conditions where no more data could be read/written to the socket.</p>
<p>See also <a href="qbluetoothabstractsocket.html">QBluetoothAbstractSocket</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QBluetoothL2CapDatagramSocket"></a>QBluetoothL2CapDatagramSocket::QBluetoothL2CapDatagramSocket ( <a href="./qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new <a href="qbluetoothl2capdatagramsocket.html">QBluetoothL2CapDatagramSocket</a> object. The <i>parent</i> parameter is passed to the <a href="./qobject.html">QObject</a> constructor.</p>
<h3 class="fn"><a name="dtor.QBluetoothL2CapDatagramSocket"></a>QBluetoothL2CapDatagramSocket::~QBluetoothL2CapDatagramSocket ()</h3>
<p>Destroys the socket.</p>
<h3 class="fn"><a name="bind"></a>bool QBluetoothL2CapDatagramSocket::bind ( const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>local</i>, int <i>psm</i>, int <i>mtu</i> = 672 )</h3>
<p>Binds an L2CAP socket to a specific <i>local</i> address and <i>psm</i>, returning true if successful; otherwise returns false. The <i>mtu</i> specifies the MTU to use.</p>
<h3 class="fn"><a name="connect"></a>bool QBluetoothL2CapDatagramSocket::connect ( const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>local</i>, const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>remote</i>, int <i>psm</i>, int <i>incomingMtu</i> = 672, int <i>outgoingMtu</i> = 672 )</h3>
<p>Attempts to open a L2CAP connection between the local device with address <i>local</i> and the remote device with address <i>remote</i>. The L2CAP PSM to use is given by <i>psm</i>. This function should generally return immediately, and the socket will enter into the <tt>ConnectingState</tt>.</p>
<p>The <i>incomingMtu</i> and <i>outgoingMtu</i> represent the MTU sizes to use for incoming and outgoing data respectively.</p>
<p>The function returns true if the connection could be started, and false otherwise.</p>
<p>Note that the connection could still fail, the state of the socket will be sent in the <a href="qbluetoothabstractsocket.html#stateChanged">stateChanged</a>() signal.</p>
<p>See also <a href="qbluetoothabstractsocket.html#connected">connected</a>(), <a href="qbluetoothabstractsocket.html#stateChanged">stateChanged</a>(), and <a href="qbluetoothabstractsocket.html#waitForConnected">waitForConnected</a>().</p>
<h3 class="fn"><a name="incomingMtu"></a>int QBluetoothL2CapDatagramSocket::incomingMtu () const</h3>
<p>Returns the MTU for incoming data. The underlying implementation will accept data packets of size no bigger than the incoming MTU. The MTU information is provided so that the read buffer size can be set appropriately.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#outgoingMtu">outgoingMtu</a>().</p>
<h3 class="fn"><a name="isAuthenticated"></a>bool QBluetoothL2CapDatagramSocket::isAuthenticated () const</h3>
<p>Returns true if the socket is authenticated.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#securityOptions">securityOptions</a>() and <a href="qbluetoothl2capdatagramsocket.html#isEncrypted">isEncrypted</a>().</p>
<h3 class="fn"><a name="isEncrypted"></a>bool QBluetoothL2CapDatagramSocket::isEncrypted () const</h3>
<p>Returns true if the socket is encrypted.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#securityOptions">securityOptions</a>() and <a href="qbluetoothl2capdatagramsocket.html#isAuthenticated">isAuthenticated</a>().</p>
<h3 class="fn"><a name="localAddress"></a><a href="qbluetoothaddress.html">QBluetoothAddress</a> QBluetoothL2CapDatagramSocket::localAddress () const</h3>
<p>Returns the address of the local device. If the socket is not currently connected or bound, returns <a href="qbluetoothaddress.html#invalid-var">QBluetoothAddress::invalid</a>.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#localPsm">localPsm</a>().</p>
<h3 class="fn"><a name="localPsm"></a>int QBluetoothL2CapDatagramSocket::localPsm () const</h3>
<p>Returns the PSM that the socket is bound to on the local device. If the socket is not bound, returns -1</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#localAddress">localAddress</a>().</p>
<h3 class="fn"><a name="outgoingMtu"></a>int QBluetoothL2CapDatagramSocket::outgoingMtu () const</h3>
<p>Returns the MTU for outgoing data. The underlying implementation will accept outgoing data packets of size no bigger than the outgoing MTU.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#incomingMtu">incomingMtu</a>().</p>
<h3 class="fn"><a name="readDatagram"></a><a href="./qtglobal.html#qint64-typedef">qint64</a> QBluetoothL2CapDatagramSocket::readDatagram ( char * <i>data</i>, <a href="./qtglobal.html#qint64-typedef">qint64</a> <i>maxSize</i>, <a href="qbluetoothaddress.html">QBluetoothAddress</a> * <i>address</i> = 0, int * <i>psm</i> = 0 )</h3>
<p>Reads a datagram from the socket. The <i>data</i> specifies the pointer to a buffer of at least <i>maxSize</i>. The <i>address</i> and <i>psm</i> parameters specify where to store the address and psm of the remote device that sent the datagram. The result is discarded if address or psm are NULL.</p>
<p>If the <i>data</i> buffer <i>maxSize</i> is smaller than the incoming MTU, the data that does not fit will be discarded.</p>
<p>Note: Some Linux implementations do not currently return remote address information.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#incomingMtu">incomingMtu</a>().</p>
<h3 class="fn"><a name="remoteAddress"></a><a href="qbluetoothaddress.html">QBluetoothAddress</a> QBluetoothL2CapDatagramSocket::remoteAddress () const</h3>
<p>Returns the address of the remote device. If the socket is not currently connected, returns <a href="qbluetoothaddress.html#invalid-var">QBluetoothAddress::invalid</a>.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#remotePsm">remotePsm</a>().</p>
<h3 class="fn"><a name="remotePsm"></a>int QBluetoothL2CapDatagramSocket::remotePsm () const</h3>
<p>Returns the PSM of the remote device. If the socket is not currently connected, returns -1.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#remoteAddress">remoteAddress</a>().</p>
<h3 class="fn"><a name="securityOptions"></a><a href="qbluetooth.html#SecurityOption-enum">QBluetooth::SecurityOptions</a> QBluetoothL2CapDatagramSocket::securityOptions () const</h3>
<p>Returns the security options currently active for the socket.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#setSecurityOptions">setSecurityOptions</a>(), <a href="qbluetoothl2capdatagramsocket.html#isAuthenticated">isAuthenticated</a>(), and <a href="qbluetoothl2capdatagramsocket.html#isEncrypted">isEncrypted</a>().</p>
<h3 class="fn"><a name="setSecurityOptions"></a>bool QBluetoothL2CapDatagramSocket::setSecurityOptions ( <a href="qbluetooth.html#SecurityOption-enum">QBluetooth::SecurityOptions</a> <i>options</i> )</h3>
<p>Sets the security options on the socket to <i>options</i>. Returns true if the options could be set successfully and false otherwise.</p>
<p>See also <a href="qbluetoothl2capdatagramsocket.html#securityOptions">securityOptions</a>(), <a href="qbluetoothl2capdatagramsocket.html#isAuthenticated">isAuthenticated</a>(), and <a href="qbluetoothl2capdatagramsocket.html#isEncrypted">isEncrypted</a>().</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.2</div></td>
</tr></table></div></address></body>
</html>

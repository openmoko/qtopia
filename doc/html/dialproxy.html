<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>DialProxy Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top"><img src="images/codeless.png" align="right" border="0" /></td></tr></table><h1 class="title">DialProxy Class Reference<br /><span class="small-subtitle">[<a href="qttelephonymodule.html">QtTelephonyModule</a>]</span>
</h1>
<p>The DialProxy class provides generic dial string processing and enables the routing of dialtone and call audio. <a href="#details">More...</a></p>
<pre>    #include &lt;DialProxy&gt;</pre><p>Inherits <a href="dialerservice.html">DialerService</a>.</p>
<ul>
<li><a href="dialproxy-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="dialproxy.html#CallScreenTrigger-enum">CallScreenTrigger</a></b> { CallDialing, CallIncoming, CallAccepted, CallDropped }</li>
<li><div class="fn"/>flags <b><a href="dialproxy.html#CallScreenTrigger-enum">CallScreenTriggers</a></b></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="dialproxy.html#DialProxy">DialProxy</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="dialproxy.html#dtor.DialProxy">~DialProxy</a></b> ()</li>
<li><div class="fn"/>CallScreenTriggers <b><a href="dialproxy.html#callScreenTriggers">callScreenTriggers</a></b> () const</li>
<li><div class="fn"/>void <b><a href="dialproxy.html#setCallScreenTriggers">setCallScreenTriggers</a></b> ( CallScreenTriggers <i>triggers</i> )</li>
</ul>
<ul>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="public-slots"></a>
<h3>Public Slots</h3>
<ul>
<li><div class="fn"/>void <b><a href="dialproxy.html#acceptIncoming">acceptIncoming</a></b> ()</li>
<li><div class="fn"/>bool <b><a href="dialproxy.html#hangupPressed">hangupPressed</a></b> ()</li>
<li><div class="fn"/>void <b><a href="dialproxy.html#requestDial">requestDial</a></b> ( const QString &amp; <i>number</i>, const QUniqueId &amp; <i>contact</i> = QUniqueId() )</li>
</ul>
<ul>
<li><div class="fn"/>11 public slots inherited from <a href="dialerservice.html#public-slots">DialerService</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="dialproxy.html#doShowDialer">doShowDialer</a></b> ( const QString &amp; <i>number</i> )</li>
<li><div class="fn"/>void <b><a href="dialproxy.html#offHookGesture">offHookGesture</a></b> ()</li>
<li><div class="fn"/>void <b><a href="dialproxy.html#onHookGesture">onHookGesture</a></b> ()</li>
<li><div class="fn"/>void <b><a href="dialproxy.html#resetScreen">resetScreen</a></b> ()</li>
<li><div class="fn"/>void <b><a href="dialproxy.html#showCallScreen">showCallScreen</a></b> ()</li>
</ul>
<ul>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>1 protected function inherited from <a href="qtopiaabstractservice.html#protected-functions">QtopiaAbstractService</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The DialProxy class provides generic dial string processing and enables the routing of dialtone and call audio.</p>
<p>The DialProxy implements the back-end of the <a href="dialerservice.html">DialerService</a>. It is responsible for the processing of dial strings, dial related key events such as the handset hook, the speaker and headset button as well as the accept and hangup operations. User interface elements request dial operations via <a href="dialproxy.html#requestDial">requestDial</a>() and connect to the various signals to receive notifications related to dial requests.</p>
<p>A dial operation can be initiated via <a href="dialerservice.html">DialerService</a>'s <a href="dialerservice.html#dial">dial</a>() functions or via <a href="dialproxy.html#requestDial">requestDial</a>() which can be called by user interface elements of the Qt Extended server. This class utilizes the <a href="dialercontrol.html">DialerControl</a> class to connect to the Telephony backend. However it provides a much simpler API for the most common dial operations. If specific updates about the progress of calls are required the <a href="dialercontrol.html">DialerControl</a> should be used instead.</p>
<p>The various dial functions can process normal phone numbers as well as VoIP numbers/identifiers. To determine what call type is required <a href="qabstractcallpolicymanager.html#handling">QAbstractCallPolicyManager::handling</a>() is used. If more than one call type is possible the <a href="calltypeselector.html">CallTypeSelector</a> dialog is shown and the user has to select the call type.</p>
<p>The various implementations of the <a href="qabstractdialerscreen.html">QAbstractDialerScreen</a> and <a href="qabstractcallscreen.html">QAbstractCallScreen</a> are the most likely user interface elements that would be connected to this class. For this purpose this class provides various signals which indicate when the dialer or callscreen should be shown. This is particularly important if the dial is initiated via the dialer service rather than via the user interface (in which case the dialer screen is already shown on the screen and now it is just a matter of processing the dial string).</p>
<p>Most desk phones have hardware buttons which allow the user to change between a handset, the speaker or the headset. In addition to the obvious audio routing features each of these buttons may also require some interfaction with the dialer. Lifting the phone craddle should e.g&#x2e; show the dialer and play dialtones for each pressed key on the hard/soft-keypad. After a certain time out (while no further digit was entered) the phone starts dialing and enables call audio. This behavior is different from a situation whereby the user requested the dialer screen to be shown (w/o lifting the handset), dials a number (which plays dial tones) and then explicitly presses the dial button to initiate the call. In this situation the phone would not automatically start the dial process until it was told to do so.</p>
<p>The hook gesture signals <a href="dialproxy.html#onHookGesture">onHookGesture</a>() and <a href="dialproxy.html#offHookGesture">offHookGesture</a>() help to identify whether the current dial process requires an explicit press on the dial button or not. Both signals should be connected to the dialer. When <a href="dialproxy.html#onHookGesture">onHookGesture</a>() is emitted the dialer should initiate the dial process as soon as no dial button has been pressed for a given time out period or until the <a href="dialproxy.html#offHookGesture">offHookGesture</a>() signal has been received.</p>
<p>This class is a Qt Extended server task and cannot be used by other Qt Extended applications.</p>
<p>See also <a href="dialerservice.html">DialerService</a>, <a href="dialercontrol.html">DialerControl</a>, and <a href="calltypeselector.html">CallTypeSelector</a>.</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="flags"><a name="CallScreenTrigger-enum"></a>enum DialProxy::CallScreenTrigger<br />flags DialProxy::CallScreenTriggers</h3>
<p>This enum defines the call events that should trigger the call screen to be displayed.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>DialProxy::CallDialing</tt></td><td align="center" valign="top"><tt>0x01</tt></td><td valign="top">Display the call screen when a dialing call is seen.</td></tr>
<tr><td valign="top"><tt>DialProxy::CallIncoming</tt></td><td align="center" valign="top"><tt>0x02</tt></td><td valign="top">Display the call screen when an incoming call is seen.</td></tr>
<tr><td valign="top"><tt>DialProxy::CallAccepted</tt></td><td align="center" valign="top"><tt>0x04</tt></td><td valign="top">Display the call screen when an incoming call is accepted.</td></tr>
<tr><td valign="top"><tt>DialProxy::CallDropped</tt></td><td align="center" valign="top"><tt>0x08</tt></td><td valign="top">Display the call screen when a call is dropped.</td></tr>
</table></p>
<p>The CallScreenTriggers type is a typedef for <a href="qflags.html">QFlags</a>&lt;CallScreenTrigger&gt;. It stores an OR combination of CallScreenTrigger values.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="DialProxy"></a>DialProxy::DialProxy ( <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Creates a new <a href="dialproxy.html">DialProxy</a> instance with the given <i>parent</i>.</p>
<h3 class="fn"><a name="dtor.DialProxy"></a>DialProxy::~DialProxy ()</h3>
<p>Destroys the Dialproxy instance.</p>
<h3 class="fn"><a name="acceptIncoming"></a>void DialProxy::acceptIncoming ()&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>The incoming call is accepted. If more than two calls are active a message box opens that asks the user how to proceed.</p>
<h3 class="fn"><a name="callScreenTriggers"></a><a href="dialproxy.html#CallScreenTrigger-enum">CallScreenTriggers</a> DialProxy::callScreenTriggers () const</h3>
<p>Returns the call screen trigger conditions.</p>
<p>See also <a href="dialproxy.html#setCallScreenTriggers">setCallScreenTriggers</a>().</p>
<h3 class="fn"><a name="doShowDialer"></a>void DialProxy::doShowDialer ( const <a href="qstring.html">QString</a> &amp; <i>number</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Emitted when the dialer should be shown. This usually happens as a result of <a href="dialerservice.html#showDialer">DialerService::showDialer</a>() service request or if a speaker, handset or headset action was performed. The dialer should be prepopulated with the given <i>number</i>.</p>
<h3 class="fn"><a name="hangupPressed"></a>bool DialProxy::hangupPressed ()&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Hangs the active call up and returns <tt>true</tt>. If no call was hangup as a result of this function call this function returns <tt>false</tt>.</p>
<h3 class="fn"><a name="offHookGesture"></a>void DialProxy::offHookGesture ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Emitted when the off hook period starts. During an off hook period the dialer immediately starts the dial process if no further digit has been entered for a given time period.</p>
<p>See also <a href="dialproxy.html#onHookGesture">onHookGesture</a>().</p>
<h3 class="fn"><a name="onHookGesture"></a>void DialProxy::onHookGesture ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Emitted when the off hook period stops. During an off hook period the dialer immediately starts the dial process if no further digit has been entered for a given time period.</p>
<p>See also <a href="dialproxy.html#offHookGesture">offHookGesture</a>().</p>
<h3 class="fn"><a name="requestDial"></a>void DialProxy::requestDial ( const <a href="qstring.html">QString</a> &amp; <i>number</i>, const <a href="quniqueid.html">QUniqueId</a> &amp; <i>contact</i> = QUniqueId() )&nbsp;&nbsp;<tt> [slot]</tt></h3>
<p>Dials the given <i>number</i> which is associated to <i>contact</i>. If <i>contact</i> is default constrcuted the dialing process searches for contact details and displays the result if there is a known contact with the given <i>number</i>.</p>
<p><i>number</i> can be any type of number as long as it can be interpreted by <a href="qabstractcallpolicymanager.html#handling">QAbstractCallPolicyManager::handling</a>().</p>
<p>This function does nothing if the <i>number</i> is empty.</p>
<p>See also <a href="qabstractcallpolicymanager.html">QAbstractCallPolicyManager</a>.</p>
<h3 class="fn"><a name="resetScreen"></a>void DialProxy::resetScreen ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Emitted when the last call was stopped. User interfaces connecting to this signal would usually change to the idle/home screen.</p>
<h3 class="fn"><a name="setCallScreenTriggers"></a>void DialProxy::setCallScreenTriggers ( <a href="dialproxy.html#CallScreenTrigger-enum">CallScreenTriggers</a> <i>triggers</i> )</h3>
<p>Sets the call screen trigger conditions to <i>triggers</i>.</p>
<p>See also <a href="dialproxy.html#callScreenTriggers">callScreenTriggers</a>().</p>
<h3 class="fn"><a name="showCallScreen"></a>void DialProxy::showCallScreen ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>Emitted when the dial screen should be shown to inform the user about an ongoing dial process.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.1</div></td>
</tr></table></div></address></body>
</html>

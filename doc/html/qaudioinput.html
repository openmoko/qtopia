<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QAudioInput Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 align="center">QAudioInput Class Reference</h1>
<p>The QAudioInput class provides an interface to read raw audio data from a microphone input. <a href="#details">More...</a></p>
<pre>    #include &lt;QAudioInput&gt;</pre><p>Inherits <a href="./qiodevice.html">QIODevice</a>.</p>
<ul>
<li><a href="qaudioinput-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qaudioinput.html#QAudioInput">QAudioInput</a></b> ( const QByteArray &amp; <i>device</i>, QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qaudioinput.html#QAudioInput-2">QAudioInput</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/><b><a href="qaudioinput.html#dtor.QAudioInput">~QAudioInput</a></b> ()</li>
<li><div class="fn"/>virtual qint64 <b><a href="qaudioinput.html#bytesAvailable">bytesAvailable</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qaudioinput.html#channels">channels</a></b> () const</li>
<li><div class="fn"/>virtual void <b><a href="qaudioinput.html#close">close</a></b> ()</li>
<li><div class="fn"/>int <b><a href="qaudioinput.html#frequency">frequency</a></b> () const</li>
<li><div class="fn"/>virtual bool <b><a href="qaudioinput.html#isSequential">isSequential</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qaudioinput.html#open">open</a></b> ( QIODevice::OpenMode <i>mode</i> )</li>
<li><div class="fn"/>int <b><a href="qaudioinput.html#samplesPerBlock">samplesPerBlock</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qaudioinput.html#setChannels">setChannels</a></b> ( int <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qaudioinput.html#setFrequency">setFrequency</a></b> ( int <i>value</i> )</li>
<li><div class="fn"/>void <b><a href="qaudioinput.html#setSamplesPerBlock">setSamplesPerBlock</a></b> ( int <i>value</i> )</li>
</ul>
<ul>
<li><div class="fn"/>32 public functions inherited from <a href="./qiodevice.html#public-functions">QIODevice</a></li>
<li><div class="fn"/>29 public functions inherited from <a href="./qobject.html#public-functions">QObject</a></li>
</ul>
<a name="protected-functions"></a>
<h3>Protected Functions</h3>
<ul>
<li><div class="fn"/>virtual qint64 <b><a href="qaudioinput.html#readData">readData</a></b> ( char * <i>data</i>, qint64 <i>maxlen</i> )</li>
<li><div class="fn"/>virtual qint64 <b><a href="qaudioinput.html#writeData">writeData</a></b> ( const char * <i>data</i>, qint64 <i>len</i> )</li>
</ul>
<ul>
<li><div class="fn"/>5 protected functions inherited from <a href="./qiodevice.html#protected-functions">QIODevice</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="./qobject.html#protected-functions">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="./qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="./qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>3 signals inherited from <a href="./qiodevice.html#signals">QIODevice</a></li>
<li><div class="fn"/>1 signal inherited from <a href="./qobject.html#signals">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="./qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="./qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="./qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QAudioInput class provides an interface to read raw audio data from a microphone input.</p>
<p>Client applications that need direct access to the microphone should use QAudioInput to capture raw audio samples for further processing. This class abstracts the details of the underlying operating system, so that clients do not need to be aware of whether the operating system uses OSS or Alsa.</p>
<p>The usual sequence for opening the microphone is as follows:</p>
<pre>    QAudioInput *audio = new QAudioInput();
    audio-&gt;setFrequency( 11025 );
    audio-&gt;setChannels( 1 );
    if ( audio-&gt;open( QIODevice::ReadOnly ) )
        audio-&gt;read( buffer, sizeof( buffer ) );</pre>
<p>You must call <a href="./qiodevice.html#read">read</a>() at least once just after opening because some devices will not start recording until the first read is performed.</p>
<p>The audio data will be normalized to signed 16-bit samples in host byte order, regardless of what the underlying device supports.</p>
<p>Use the <a href="./qiodevice.html#readyRead">readyRead</a>() signal to be notified of new input.</p>
<p>See also <a href="qaudiooutput.html">QAudioOutput</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QAudioInput"></a>QAudioInput::QAudioInput ( const <a href="./qbytearray.html">QByteArray</a> &amp; <i>device</i>, <a href="./qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Construct a new audio input stream and attach it to <i>parent</i>. The device that is opened is specified by <i>device</i>. The default parameters are 44100 Hz Stereo, with 16-bit samples.</p>
<p>The device parameter is implementation-specific, and might not be honored by all implementations. It is usually an Alsa device name such as <tt>plughw:0,0</tt>. The string <tt>default</tt> can be passed for <i>device</i> if the client application wishes to use the default device and is not concerned with what that default device may be called.</p>
<h3 class="fn"><a name="QAudioInput-2"></a>QAudioInput::QAudioInput ( <a href="./qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Construct a new audio input stream and attach it to <i>parent</i>. The default parameters are 44100 Hz Stereo, with 16-bit samples.</p>
<h3 class="fn"><a name="dtor.QAudioInput"></a>QAudioInput::~QAudioInput ()</h3>
<p>Destroy this audio input stream.</p>
<h3 class="fn"><a name="bytesAvailable"></a><a href="./qtglobal.html#qint64-typedef">qint64</a> QAudioInput::bytesAvailable () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the number of bytes that are available for reading.</p>
<p>Reimplemented from <a href="./qiodevice.html#bytesAvailable">QIODevice</a>.</p>
<p>See also <a href="./qiodevice.html#read">read</a>().</p>
<h3 class="fn"><a name="channels"></a>int QAudioInput::channels () const</h3>
<p>Returns the number of playback channels. The default value is 2.</p>
<p>See also <a href="qaudioinput.html#setChannels">setChannels</a>().</p>
<h3 class="fn"><a name="close"></a>void QAudioInput::close ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Closes this audio input stream.</p>
<p>Reimplemented from <a href="./qiodevice.html#close">QIODevice</a>.</p>
<h3 class="fn"><a name="frequency"></a>int QAudioInput::frequency () const</h3>
<p>Returns the current frequency of audio samples. The default value is 44100.</p>
<p>See also <a href="qaudioinput.html#setFrequency">setFrequency</a>().</p>
<h3 class="fn"><a name="isSequential"></a>bool QAudioInput::isSequential () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Determines if this <a href="./qiodevice.html">QIODevice</a> is sequential. Always returns true.</p>
<p>Reimplemented from <a href="./qiodevice.html#isSequential">QIODevice</a>.</p>
<h3 class="fn"><a name="open"></a>bool QAudioInput::open ( <a href="./qiodevice.html#openmode-typedef">QIODevice::OpenMode</a> <i>mode</i> )</h3>
<p>Opens this audio input stream in <i>mode</i>. Returns true if the audio input stream could be opened; false otherwise.</p>
<h3 class="fn"><a name="readData"></a><a href="./qtglobal.html#qint64-typedef">qint64</a> QAudioInput::readData ( char * <i>data</i>, <a href="./qtglobal.html#qint64-typedef">qint64</a> <i>maxlen</i> )&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Reads a block of raw audio samples from the input device into <i>data</i>. The samples are guaranteed to be signed, 16 bits in size, and in host byte order. The <i>maxlen</i> value is the maximum buffer size in bytes, which is twice the number of logical samples.</p>
<p>Returns the number of bytes read, or zero if none are currently available. This function will not block.</p>
<p>If the device is mono, then the number of raw samples is the same as the number of logical samples. If the device is stereo, then the number of raw samples is twice the number of logical samples.</p>
<p>This function may reduce the length to a logical device buffer size. Use <a href="qaudioinput.html#bytesAvailable">bytesAvailable</a>() to determine if there are still bytes left to be read.</p>
<p>Reimplemented from <a href="./qiodevice.html#readData">QIODevice</a>.</p>
<h3 class="fn"><a name="samplesPerBlock"></a>int QAudioInput::samplesPerBlock () const</h3>
<p>Returns the number of samples per block that the audio input stream will attempt to deliver upon each read. The default value is -1, which indicates that the hardware should dictate the block size.</p>
<p>See also <a href="qaudioinput.html#setSamplesPerBlock">setSamplesPerBlock</a>().</p>
<h3 class="fn"><a name="setChannels"></a>void QAudioInput::setChannels ( int <i>value</i> )</h3>
<p>Sets the number of playback channels to <i>value</i>. Should be called before <a href="qaudioinput.html#open">open</a>().</p>
<p>See also <a href="qaudioinput.html#channels">channels</a>().</p>
<h3 class="fn"><a name="setFrequency"></a>void QAudioInput::setFrequency ( int <i>value</i> )</h3>
<p>Sets the frequency of audio samples to <i>value</i>. Should be called before <a href="qaudioinput.html#open">open</a>().</p>
<p>See also <a href="qaudioinput.html#frequency">frequency</a>().</p>
<h3 class="fn"><a name="setSamplesPerBlock"></a>void QAudioInput::setSamplesPerBlock ( int <i>value</i> )</h3>
<p>Sets the number of samples per block that the audio input stream will attempt to deliver upon each read to <i>value</i>. The value -1 indicates that the hardware should dictate the block size. Should be called before <a href="qaudioinput.html#open">open</a>().</p>
<p>See also <a href="qaudioinput.html#samplesPerBlock">samplesPerBlock</a>().</p>
<h3 class="fn"><a name="writeData"></a><a href="./qtglobal.html#qint64-typedef">qint64</a> QAudioInput::writeData ( const char * <i>data</i>, <a href="./qtglobal.html#qint64-typedef">qint64</a> <i>len</i> )&nbsp;&nbsp;<tt> [virtual protected]</tt></h3>
<p>Writes <i>len</i> bytes from <i>data</i> to this <a href="./qiodevice.html">QIODevice</a>. Not used for audio input devices.</p>
<p>Reimplemented from <a href="./qiodevice.html#writeData">QIODevice</a>.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.2</div></td>
</tr></table></div></address></body>
</html>

<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>SXE - Installer/Package Manager Overview</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 align="center">SXE - Installer/Package Manager Overview<br /><span class="subtitle"></span>
</h1>
<a name="introduction"></a>
<h2>Introduction</h2>
<p>Qtopia provides a simplified software installation system in a system binary called <tt>packagemanager</tt>.</p>
<p><b>Note that earlier versions of Qtopia for PDAs provided a utility to install packages utilizing the ipkg system. There is no such facility currently in Qtopia. The SXE PackageManager is not a general purpose package installation system</b></p>
<p>The following features are provided:</p>
<ul>
<li>connect to remote server via HTTP to retrieve a packages list</li>
<li>browse through the list and display basic package information</li>
<li>choose a package install a package by:<ul>
<li>downloading the <tt>qpk</tt> over HTTP</li>
<li><tt>ungzip</tt>, <tt>untar</tt> and install of <tt>qpk</tt> format packages into a sandboxed file structure.</li>
<li>record the package details in the SXE registry files</li>
<li>applying MAC rules to package files</li>
<li>installation of run-time keys into binaries</li>
</ul>
</li>
<li>provide uninstall functionality.</li>
<li>re-enable disabled packages</li>
</ul>
<a name="configuration"></a>
<h2>Configuration</h2>
<p>Package Manager can be configured with a file called PackageManager.conf located in the &lt;qtopia-root-dir&gt;/devices/etc/default/Trolltech directory. The file has the following format:</p>
<pre>    [server foo]
    URL=http:<span class="comment">//</span>path/to/foo's/package/feed

    [server bar]
    URL=http:<span class="comment">//</span>path/to/bar's/package/feed

    [Configuration]
    MaxPackagesList=50
    MaxPackagesListSize=50000
    MaxDescriptorSize=4096
    DefaultDomain=untrusted
    SensitiveDomains=none
    RestrictedOrganizations=Trolltech</pre>
<p>In the above example &quot;server foo&quot; an &quot;server bar&quot; are the two default servers provided by the packagemanager. Simply add another similar entry for more defaults.</p>
<p>The Configuration entry is contains settings values.</p>
<p><table width="100%" align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Parameter</th><th>Purpose</th></tr></thead>
<tr valign="top" class="odd"><td>MaxPackagesList</td><td>Maximum number of packages that will be downloaded from a packages.list</td></tr>
<tr valign="top" class="even"><td>MaxPackagesListSize</td><td>Maximum size in bytes that will be downloaded for a packages.list.</td></tr>
<tr valign="top" class="odd"><td>MaxDescriptorSize</td><td>Maximum size in bytes that will be downloaded for a qpd descriptor file.</td></tr>
<tr valign="top" class="even"><td>DefaultDomain</td><td>Default domain that will be applied to packages that do not specify a recognised domain.</td></tr>
<tr valign="top" class="odd"><td>SensitiveDomain</td><td>Packages requesting access to sensitive/restricted domains will not be allowed to install. If there are no sensitive domains set this value to: none.</td></tr>
<tr valign="top" class="even"><td>RestrictedOrganization</td><td>Defines organizations for settings files which downloaded applications should not use.</td></tr>
</table></p>
<p>The limitations on the packages.list and descriptor are intended to limit the cost to the user if he/she connects to a server whose packages.list is excessively large.</p>
<p>Settings files for appliations typically specify an organization ( see <a href="./qsettings.html">QSettings</a>). Organizations which are already in use should be specified in the RestrictedOrganizations field. Packages that contain settings files which correspond to this organization won't be able to be installed. This is to moreso prevent 3rd party developers accidentally using an in-use organization rather than for security reasons.</p>
<p>The file Storage.conf can be used to specify which directory that all packages are installed to. See Storage.conf.</p>
<p><b>Note:</b> Packages created by both non-SXE and SXE configured builds of Qtopia can be installed onto an SXE enabled device, provided a number of <a href="sxe-app-checklist.html">requirements</a> are met.</p>
<p>Applications which are untrusted run with the <tt>LIDS_SANDBOX</tt> attribute which means that only files specifically allowed may be accessed. Applications are by default installed in <tt>/home/Packages/&lt;md5-sum&gt;</tt> and have by default read-only access to all system libraries, and read-write access to their <tt>/home/Packages/&lt;md5-sum&gt;</tt> directory. Packages do not have access to the /tmp directory nor are they allowed to create <a href="./qsettings.html">QSettings</a> objects by supplying an organization or application. To create temporary files or <a href="./qsettings.html">QSettings</a> files, an application should use the <a href="qtopia.html#sandboxDir">Qtopia::sandboxDir</a>() to obtain the package's directory; in the case of a <a href="./qsettings.html">QSettings</a> file something like <a href="qtopia.html#sandboxDir">Qtopia::sandboxDir</a>() + &quot;/etc/mysettings.conf&quot; should be supplied as a fileName parameter.</p>
<p>As a side note, packages cannot be quicklaunched applications, ensure that CONFIG+=<a href="buildsystem/conf-no-quicklaunch-1.html">no_quicklaunch</a> is added into the application project(.pro) file.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.1</div></td>
</tr></table></div></address></body>
</html>

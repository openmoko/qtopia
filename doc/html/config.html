<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- /home/ianw/dev/packages/qtopia/1.6/tmp12327/qtopia/src/libraries/qtopia/config.cpp:98 -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Config Class</title>
<style type="text/css"><!--
h3.fn,span.fn { margin-left: 1cm; text-indent: -1cm; }
a:link { color: #004faf; text-decoration: none }
a:visited { color: #672967; text-decoration: none }
body { background: #ffffff; color: black; }
--></style>
</head>
<body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr bgcolor="black"><td>
<a href="classes.html"><font color="white">Qt API</font></a>
<font color="white">|</font>
<a href="../classes.html"> <font color="white">Qtopia API</font></a>
</td>
<td align="right"><a href="../index.html"><font color="white"><i>Qtopia Documentation</i></font></a></td>
<td align="right" valign="center"><img src="logo32.png" align="right" width="64" height="32" border="0"></td></tr></table><h1 align=center>Config Class Reference</h1>

<p>The Config class provides for saving application configuration state.
<a href="#details">More...</a>
<p><tt>#include &lt;<a href="config-h.html">qtopia/config.h</a>&gt;</tt>
<p><a href="config-members.html">List of all member functions.</a>
<h2>Public Members</h2>
<ul>
<li><div class=fn>enum <a href="#Domain-enum"><b>Domain</b></a> { File, User }</div></li>
<li><div class=fn><a href="#Config"><b>Config</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;name, Domain&nbsp;domain = User )</div></li>
<li><div class=fn><a href="#~Config"><b>~Config</b></a> ()</div></li>
<li><div class=fn>bool <a href="#operator-eq-eq"><b>operator==</b></a> ( const&nbsp;Config&nbsp;&amp;&nbsp;other ) const</div></li>
<li><div class=fn>bool <a href="#operator!-eq"><b>operator!=</b></a> ( const&nbsp;Config&nbsp;&amp;&nbsp;other ) const</div></li>
<li><div class=fn>bool <a href="#isValid"><b>isValid</b></a> () const</div></li>
<li><div class=fn>bool <a href="#hasKey"><b>hasKey</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key ) const</div></li>
<li><div class=fn>void <a href="#setGroup"><b>setGroup</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;gname )</div></li>
<li><div class=fn>void <a href="#writeEntry"><b>writeEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;char&nbsp;*&nbsp;value )</div></li>
<li><div class=fn>void <a href="#writeEntry-2"><b>writeEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;QString&nbsp;&amp;&nbsp;value )</div></li>
<li><div class=fn>void <a href="#writeEntryCrypt"><b>writeEntryCrypt</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;QString&nbsp;&amp;&nbsp;value )</div></li>
<li><div class=fn>void <a href="#writeEntry-3"><b>writeEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, int&nbsp;num )</div></li>
<li><div class=fn>void <a href="#writeEntry-4"><b>writeEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;QStringList&nbsp;&amp;&nbsp;lst, const&nbsp;QChar&nbsp;&amp;&nbsp;sep )</div></li>
<li><div class=fn>void <a href="#writeEntry-5"><b>writeEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;QByteArray&nbsp;&amp;&nbsp;byteArray )</div></li>
<li><div class=fn>void <a href="#removeEntry"><b>removeEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key )</div></li>
<li><div class=fn>QString <a href="#readEntry"><b>readEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;QString&nbsp;&amp;&nbsp;deflt = QString::null ) const</div></li>
<li><div class=fn>QString <a href="#readEntryCrypt"><b>readEntryCrypt</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;QString&nbsp;&amp;&nbsp;deflt = QString::null ) const</div></li>
<li><div class=fn>int <a href="#readNumEntry"><b>readNumEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, int&nbsp;deflt = -1 ) const</div></li>
<li><div class=fn>bool <a href="#readBoolEntry"><b>readBoolEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, bool&nbsp;deflt = FALSE ) const</div></li>
<li><div class=fn>QStringList <a href="#readListEntry"><b>readListEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;QChar&nbsp;&amp;&nbsp;sep ) const</div></li>
<li><div class=fn>QByteArray <a href="#readByteArrayEntry"><b>readByteArrayEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key ) const</div></li>
<li><div class=fn>QByteArray <a href="#readByteArrayEntry-2"><b>readByteArrayEntry</b></a> ( const&nbsp;QString&nbsp;&amp;&nbsp;key, const&nbsp;QByteArray&nbsp;&amp;&nbsp;dflt ) const</div></li>
<li><div class=fn>void <a href="#clearGroup"><b>clearGroup</b></a> ()</div></li>
</ul>
<hr><a name="details"></a><h2>Detailed Description</h2>


The Config class provides for saving application configuration state.
<p> You should keep a Config in existence only while you do not want others
to be able to change the state. There is no locking currently, but there
may be in the future.
<p> 
<p>See also <a href="../classes.html">Qtopia Classes</a>.

<hr><h2>Member Type Documentation</h2>
<h3 class=fn><a name="Domain-enum"></a>Config::Domain</h3>

<ul>
<li><tt>Config::File</tt>
<li><tt>Config::User</tt>
</ul><p> See <a href="#Config">Config</a>() for details.

<hr><h2>Member Function Documentation</h2>
<h3 class=fn><a name="Config"></a>Config::Config ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;name, <a href="config.html#Domain-enum">Domain</a>&nbsp;domain = User )
</h3>
Constructs a configuration object that will load or create a
configuration with the given <em>name</em> in the given <em>domain</em>.
<p> After construction, call <a href="#setGroup">setGroup</a>() since almost every other
function works in terms of the 'current group'.
<p> In the default Domain, <em>User</em>, the configuration is user-specific,
and the <em>name</em> should not contain "/". This name should be globally
unique.
<p> In the File Domain, <em>name</em> is an absolute filename.

<h3 class=fn><a name="~Config"></a>Config::~Config ()
</h3>
Writes any changes to disk and destroys the in-memory object.

<h3 class=fn>void <a name="clearGroup"></a>Config::clearGroup ()
</h3>
Removes all entries from the current group.
<p> <p>See also <a href="#removeEntry">removeEntry</a>().

<h3 class=fn>bool <a name="hasKey"></a>Config::hasKey ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key ) const
</h3>
Returns TRUE if the current group has an entry called <em>key</em>;
otherwise returns FALSE.

<h3 class=fn>bool <a name="isValid"></a>Config::isValid () const
</h3>
Returns TRUE if the Config is in a valid state; otherwise returns
FALSE.

<h3 class=fn>bool <a name="operator!-eq"></a>Config::operator!= ( const&nbsp;<a href="config.html">Config</a>&nbsp;&amp;&nbsp;other ) const
</h3>

<p> Tests for inequality with <em>other</em>. Config objects are equal if they
refer to the same filename.
<p> <p>See also <a href="#operator-eq-eq">operator==</a>().

<h3 class=fn>bool <a name="operator-eq-eq"></a>Config::operator== ( const&nbsp;<a href="config.html">Config</a>&nbsp;&amp;&nbsp;other ) const
</h3>

<p> Tests for equality with <em>other</em>. Config objects are equal if they
refer to the same filename.
<p> <p>See also <a href="#operator!-eq">operator!=</a>().

<h3 class=fn>bool <a name="readBoolEntry"></a>Config::readBoolEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, bool&nbsp;deflt = FALSE ) const
</h3>

<p> Returns the boolean entry stored (as an integer) using <em>key</em>,
defaulting to <em>deflt</em> if there is no entry for the given <em>key</em>.
<p> <p>See also <a href="#writeEntry">writeEntry</a>().

<h3 class=fn>QByteArray <a name="readByteArrayEntry"></a>Config::readByteArrayEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key ) const
</h3>
Returns the QByteArray stored using <em>key</em>.  Returns an empty array if
no matching key is found.

<h3 class=fn>QByteArray <a name="readByteArrayEntry-2"></a>Config::readByteArrayEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;QByteArray&nbsp;&amp;&nbsp;dflt ) const
</h3>
Returns the QByteArray stored using <em>key</em>.  Returns <em>dflt</em> if
no matching key is found.

<h3 class=fn><a href="qstring.html">QString</a> <a name="readEntry"></a>Config::readEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;deflt = QString::null ) const
</h3>

<p> Returns the string entry for <em>key</em>, defaulting to <em>deflt</em> if there
is no entry for the given <em>key</em>.
<p> <p>See also <a href="#writeEntry">writeEntry</a>().

<h3 class=fn><a href="qstring.html">QString</a> <a name="readEntryCrypt"></a>Config::readEntryCrypt ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;deflt = QString::null ) const
</h3>

<p> Returns the unencrypted string entry for the encrypted entry stored
using <em>key</em>, defaulting to <em>deflt</em> if there is no entry for the
given <em>key</em>.
<p> <p>See also <a href="#writeEntryCrypt">writeEntryCrypt</a>().

<h3 class=fn><a href="qstringlist.html">QStringList</a> <a name="readListEntry"></a>Config::readListEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;<a href="qchar.html">QChar</a>&nbsp;&amp;&nbsp;sep ) const
</h3>

<p> Returns the string list entry stored using <em>key</em> and with <em>sep</em> as
the separator.
<p> These entries are stored as a single string, with each element
separated by <em>sep</em>.
<p> <p>See also <a href="#writeEntry">writeEntry</a>().

<h3 class=fn>int <a name="readNumEntry"></a>Config::readNumEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, int&nbsp;deflt = -1 ) const
</h3>

<p> Returns the integer entry stored using <em>key</em>, defaulting to <em>deflt</em> if there is no entry for the given <em>key</em>.
<p> <p>See also <a href="#writeEntry">writeEntry</a>().

<h3 class=fn>void <a name="removeEntry"></a>Config::removeEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key )
</h3>
Removes the <em>key</em> entry from the current group. Does nothing if
there is no such entry.
<p> <p>See also <a href="#writeEntry">writeEntry</a>() and <a href="#clearGroup">clearGroup</a>().

<h3 class=fn>void <a name="setGroup"></a>Config::setGroup ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;gname )
</h3>
Sets the current group for subsequent reading and writing of entries
to <em>gname</em>. Grouping allows the application to partition the
namespace.
<p> This function <em>must</em> be called prior to any reading or writing of
entries.
<p> The <em>gname</em> must not be empty.
<p> <p>See also <a href="#writeEntry">writeEntry</a>(), <a href="#readEntry">readEntry</a>(), <a href="#readListEntry">readListEntry</a>(), <a href="#readNumEntry">readNumEntry</a>() and <a href="#readBoolEntry">readBoolEntry</a>().

<h3 class=fn>void <a name="writeEntry"></a>Config::writeEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;char&nbsp;*&nbsp;value )
</h3>
Writes a (<em>key</em>, <em>value</em>) entry to the current group.
<p> <p>See also <a href="#readEntry">readEntry</a>().

<h3 class=fn>void <a name="writeEntry-2"></a>Config::writeEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;value )
</h3>
Writes a (<em>key</em>, <em>value</em>) entry to the current group.
<p> <p>See also <a href="#readEntry">readEntry</a>().

<h3 class=fn>void <a name="writeEntry-3"></a>Config::writeEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, int&nbsp;num )
</h3>
Writes a (<em>key</em>, <em>num</em>) entry to the current group.
<p> <p>See also <a href="#readNumEntry">readNumEntry</a>() and <a href="#readBoolEntry">readBoolEntry</a>().

<h3 class=fn>void <a name="writeEntry-4"></a>Config::writeEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;<a href="qstringlist.html">QStringList</a>&nbsp;&amp;&nbsp;lst, const&nbsp;<a href="qchar.html">QChar</a>&nbsp;&amp;&nbsp;sep )
</h3>
Writes a (<em>key</em>, <em>lst</em>) entry to the current group. The list is
separated by <em>sep</em>, so the strings must not contain that character.
<p> <p>See also <a href="#readListEntry">readListEntry</a>().

<h3 class=fn>void <a name="writeEntry-5"></a>Config::writeEntry ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;QByteArray&nbsp;&amp;&nbsp;byteArray )
</h3>
Writes a (<em>key</em>, <em>byteArray</em>) entry to the current group.  The byteArray is stored as
a base64 encoded string.

<h3 class=fn>void <a name="writeEntryCrypt"></a>Config::writeEntryCrypt ( const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;key, const&nbsp;<a href="qstring.html">QString</a>&nbsp;&amp;&nbsp;value )
</h3>
Writes a weakly encrypted (<em>key</em>, <em>value</em>) entry to the current group.
<p> Note that the degree of protection offered by the encryption is
only sufficient to avoid the most casual observation of the configuration
files.
<p> <p>See also <a href="#readEntryCrypt">readEntryCrypt</a>().

<!-- eof -->
<hr><p>
This file is part of the <a href="../index.html">Qtopia </a>,
copyright &copy; 1995-2002
<a href="http://www.trolltech.com/">Trolltech</a>, all rights reserved.<p><address><hr><div align=center>
<table width=100% cellspacing=0 border=0><tr>
<td>Copyright &copy; 2001-2002 Trolltech<td><a href="http://www.trolltech.com/trademarks.html">Trademarks</a>
<td align=right><div align=right>Qtopia version 1.6.0</div>
</table></div></address></body>
</html>

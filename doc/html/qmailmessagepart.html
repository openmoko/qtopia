<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QMailMessagePart Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="modules-index.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top"><img src="images/codeless.png" align="right" border="0" /></td></tr></table><h1 class="title">QMailMessagePart Class Reference<br /><span class="small-subtitle">[<a href="qtmessagingmodule.html">QtMessagingModule</a>, <a href="qtpimmodule.html">QtPimModule</a>]</span>
</h1>
<p>The QMailMessagePart class provides a convenient interface for working with message attachments. <a href="#details">More...</a></p>
<pre>    #include &lt;QMailMessagePart&gt;</pre><p><b>This class is under development and is subject to change.</b></p>
<p>Inherits <a href="qmailmessagepartcontainer.html">QMailMessagePartContainer</a>.</p>
<ul>
<li><a href="qmailmessagepart-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qmailmessagepart.html#QMailMessagePart">QMailMessagePart</a></b> ()</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#attachmentPath">attachmentPath</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#contentDescription">contentDescription</a></b> () const</li>
<li><div class="fn"/>QMailMessageContentDisposition <b><a href="qmailmessagepart.html#contentDisposition">contentDisposition</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#contentID">contentID</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#contentLanguage">contentLanguage</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#contentLocation">contentLocation</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qmailmessagepart.html#detachAttachment">detachAttachment</a></b> ( const QString &amp; <i>path</i> )</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#detachFileName">detachFileName</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#displayName">displayName</a></b> () const</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#identifier">identifier</a></b> () const</li>
<li><div class="fn"/>int <b><a href="qmailmessagepart.html#partNumber">partNumber</a></b> () const</li>
<li><div class="fn"/>void <b><a href="qmailmessagepart.html#setContentDescription">setContentDescription</a></b> ( const QString &amp; <i>description</i> )</li>
<li><div class="fn"/>void <b><a href="qmailmessagepart.html#setContentDisposition">setContentDisposition</a></b> ( const QMailMessageContentDisposition &amp; <i>disposition</i> )</li>
<li><div class="fn"/>void <b><a href="qmailmessagepart.html#setContentID">setContentID</a></b> ( const QString &amp; <i>id</i> )</li>
<li><div class="fn"/>void <b><a href="qmailmessagepart.html#setContentLanguage">setContentLanguage</a></b> ( const QString &amp; <i>language</i> )</li>
<li><div class="fn"/>void <b><a href="qmailmessagepart.html#setContentLocation">setContentLocation</a></b> ( const QString &amp; <i>location</i> )</li>
<li><div class="fn"/>void <b><a href="qmailmessagepart.html#setPartNumber">setPartNumber</a></b> ( int <i>partNumber</i> )</li>
<li><div class="fn"/>QString <b><a href="qmailmessagepart.html#writeBodyTo">writeBodyTo</a></b> ( const QString &amp; <i>path</i> ) const</li>
</ul>
<ul>
<li><div class="fn"/>25 public functions inherited from <a href="qmailmessagepartcontainer.html#public-functions">QMailMessagePartContainer</a></li>
</ul>
<a name="static-public-members"></a>
<h3>Static Public Members</h3>
<ul>
<li><div class="fn"/>QMailMessagePart <b><a href="qmailmessagepart.html#fromData">fromData</a></b> ( const QByteArray &amp; <i>input</i>, const QMailMessageContentDisposition &amp; <i>disposition</i>, const QMailMessageContentType &amp; <i>type</i>, QMailMessageBody::TransferEncoding <i>encoding</i>, QMailMessageBody::EncodingStatus <i>status</i> = QMailMessageBody::RequiresEncoding )</li>
<li><div class="fn"/>QMailMessagePart <b><a href="qmailmessagepart.html#fromData-2">fromData</a></b> ( const QString &amp; <i>input</i>, const QMailMessageContentDisposition &amp; <i>disposition</i>, const QMailMessageContentType &amp; <i>type</i>, QMailMessageBody::TransferEncoding <i>encoding</i> )</li>
<li><div class="fn"/>QMailMessagePart <b><a href="qmailmessagepart.html#fromFile">fromFile</a></b> ( const QString &amp; <i>filename</i>, const QMailMessageContentDisposition &amp; <i>disposition</i>, const QMailMessageContentType &amp; <i>type</i>, QMailMessageBody::TransferEncoding <i>encoding</i>, QMailMessageBody::EncodingStatus <i>status</i> = QMailMessageBody::RequiresEncoding )</li>
<li><div class="fn"/>QMailMessagePart <b><a href="qmailmessagepart.html#fromStream">fromStream</a></b> ( QDataStream &amp; <i>in</i>, const QMailMessageContentDisposition &amp; <i>disposition</i>, const QMailMessageContentType &amp; <i>type</i>, QMailMessageBody::TransferEncoding <i>encoding</i>, QMailMessageBody::EncodingStatus <i>status</i> = QMailMessageBody::RequiresEncoding )</li>
<li><div class="fn"/>QMailMessagePart <b><a href="qmailmessagepart.html#fromStream-2">fromStream</a></b> ( QTextStream &amp; <i>in</i>, const QMailMessageContentDisposition &amp; <i>disposition</i>, const QMailMessageContentType &amp; <i>type</i>, QMailMessageBody::TransferEncoding <i>encoding</i> )</li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QMailMessagePart class provides a convenient interface for working with message attachments.</p>
<p>A message part inherits the properties of <a href="qmailmessagepartcontainer.html">QMailMessagePartContainer</a>, and can therefore contain a message body or a collection of sub-parts.</p>
<p>A message part differs from a message proper in that a part will often have properties specified by the MIME multipart specification, not relevant to messages. These include the 'name' and 'filename' parameters of the Content-Type and Content-Disposition fields, and the Content-Id and Content-Location fields.</p>
<p>See also <a href="qmailmessagepartcontainer.html">QMailMessagePartContainer</a>.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QMailMessagePart"></a>QMailMessagePart::QMailMessagePart ()</h3>
<p>Constructs an empty message part object.</p>
<h3 class="fn"><a name="attachmentPath"></a><a href="qstring.html">QString</a> QMailMessagePart::attachmentPath () const</h3>
<p>Returns the path to a <a href="qmailmessagepart.html">QMailMessagePart</a> attachment file. Returns an empty path for parts that are not attachments or have not been detached.</p>
<h3 class="fn"><a name="contentDescription"></a><a href="qstring.html">QString</a> QMailMessagePart::contentDescription () const</h3>
<p>Returns the Content-Description header field for the part, if present; otherwise returns an empty string.</p>
<p>See also <a href="qmailmessagepart.html#setContentDescription">setContentDescription</a>().</p>
<h3 class="fn"><a name="contentDisposition"></a><a href="qmailmessagecontentdisposition.html">QMailMessageContentDisposition</a> QMailMessagePart::contentDisposition () const</h3>
<p>Returns the Content-Disposition header field for the part.</p>
<p>See also <a href="qmailmessagepart.html#setContentDisposition">setContentDisposition</a>().</p>
<h3 class="fn"><a name="contentID"></a><a href="qstring.html">QString</a> QMailMessagePart::contentID () const</h3>
<p>Returns the Content-Id header field for the part, if present; otherwise returns an empty string.</p>
<p>See also <a href="qmailmessagepart.html#setContentID">setContentID</a>().</p>
<h3 class="fn"><a name="contentLanguage"></a><a href="qstring.html">QString</a> QMailMessagePart::contentLanguage () const</h3>
<p>Returns the Content-Language header field for the part, if present; otherwise returns an empty string.</p>
<p>See also <a href="qmailmessagepart.html#setContentLanguage">setContentLanguage</a>().</p>
<h3 class="fn"><a name="contentLocation"></a><a href="qstring.html">QString</a> QMailMessagePart::contentLocation () const</h3>
<p>Returns the Content-Location header field for the part, if present; otherwise returns an empty string.</p>
<p>See also <a href="qmailmessagepart.html#setContentLocation">setContentLocation</a>().</p>
<h3 class="fn"><a name="detachAttachment"></a>bool QMailMessagePart::detachAttachment ( const <a href="qstring.html">QString</a> &amp; <i>path</i> )</h3>
<p>Detaches a file attachment <a href="qmailmessagepart.html">QMailMessagePart</a>, decoding and saving the file part into the directory specified by <i>path</i>, and recording the attachment path in the part. The name of the file is taken from the part. If another file already exists in the path a new unique name of the format &lt;filename&gt;.&lt;random chars&gt; is saved. Returns <tt>true</tt> on success or <tt>false</tt> otherwise.</p>
<h3 class="fn"><a name="detachFileName"></a><a href="qstring.html">QString</a> QMailMessagePart::detachFileName () const</h3>
<p>Returns the leaf file name to which the part will be written if detached from the message.</p>
<h3 class="fn"><a name="displayName"></a><a href="qstring.html">QString</a> QMailMessagePart::displayName () const</h3>
<p>Returns a non-empty string to identify the part, appropriate for display. If the part 'Content-Type' header field contains a 'name' parameter, that value is used. Otherwise, if the part has a 'Content-Disposition' header field containing a 'filename' parameter, that value is used. Otherwise, if the part has a 'Content-ID' header field, that value is used. Finally, a usable name will be created by combining the content type of the part with the part's number.</p>
<p>See also <a href="qmailmessagepart.html#identifier">identifier</a>().</p>
<h3 class="fn"><a name="fromData"></a>QMailMessagePart QMailMessagePart::fromData ( const <a href="qbytearray.html">QByteArray</a> &amp; <i>input</i>, const <a href="qmailmessagecontentdisposition.html">QMailMessageContentDisposition</a> &amp; <i>disposition</i>, const <a href="qmailmessagecontenttype.html">QMailMessageContentType</a> &amp; <i>type</i>, <a href="qmailmessagebody.html#TransferEncoding-enum">QMailMessageBody::TransferEncoding</a> <i>encoding</i>, <a href="qmailmessagebody.html#EncodingStatus-enum">QMailMessageBody::EncodingStatus</a> <i>status</i> = QMailMessageBody::RequiresEncoding )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Creates a <a href="qmailmessagepart.html">QMailMessagePart</a> containing an attachment of type <i>disposition</i>, from the data contained in <i>input</i>, of content type <i>type</i> and using the transfer encoding <i>encoding</i>. The current status of the data is specified as <i>status</i>.</p>
<p>See also <a href="qmailmessagebody.html#fromData">QMailMessageBody::fromData</a>().</p>
<h3 class="fn"><a name="fromData-2"></a>QMailMessagePart QMailMessagePart::fromData ( const <a href="qstring.html">QString</a> &amp; <i>input</i>, const <a href="qmailmessagecontentdisposition.html">QMailMessageContentDisposition</a> &amp; <i>disposition</i>, const <a href="qmailmessagecontenttype.html">QMailMessageContentType</a> &amp; <i>type</i>, <a href="qmailmessagebody.html#TransferEncoding-enum">QMailMessageBody::TransferEncoding</a> <i>encoding</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Creates a <a href="qmailmessagepart.html">QMailMessagePart</a> containing an attachment of type <i>disposition</i>, from the data contained in <i>input</i>, of content type <i>type</i> and using the transfer encoding <i>encoding</i>.</p>
<p>See also <a href="qmailmessagebody.html#fromData">QMailMessageBody::fromData</a>().</p>
<h3 class="fn"><a name="fromFile"></a>QMailMessagePart QMailMessagePart::fromFile ( const <a href="qstring.html">QString</a> &amp; <i>filename</i>, const <a href="qmailmessagecontentdisposition.html">QMailMessageContentDisposition</a> &amp; <i>disposition</i>, const <a href="qmailmessagecontenttype.html">QMailMessageContentType</a> &amp; <i>type</i>, <a href="qmailmessagebody.html#TransferEncoding-enum">QMailMessageBody::TransferEncoding</a> <i>encoding</i>, <a href="qmailmessagebody.html#EncodingStatus-enum">QMailMessageBody::EncodingStatus</a> <i>status</i> = QMailMessageBody::RequiresEncoding )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Creates a <a href="qmailmessagepart.html">QMailMessagePart</a> containing an attachment of type <i>disposition</i>, from the data contained in <i>filename</i>, of content type <i>type</i> and using the transfer encoding <i>encoding</i>. The current status of the data is specified as <i>status</i>.</p>
<p>See also <a href="qmailmessagebody.html#fromFile">QMailMessageBody::fromFile</a>().</p>
<h3 class="fn"><a name="fromStream"></a>QMailMessagePart QMailMessagePart::fromStream ( <a href="qdatastream.html">QDataStream</a> &amp; <i>in</i>, const <a href="qmailmessagecontentdisposition.html">QMailMessageContentDisposition</a> &amp; <i>disposition</i>, const <a href="qmailmessagecontenttype.html">QMailMessageContentType</a> &amp; <i>type</i>, <a href="qmailmessagebody.html#TransferEncoding-enum">QMailMessageBody::TransferEncoding</a> <i>encoding</i>, <a href="qmailmessagebody.html#EncodingStatus-enum">QMailMessageBody::EncodingStatus</a> <i>status</i> = QMailMessageBody::RequiresEncoding )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Creates a <a href="qmailmessagepart.html">QMailMessagePart</a> containing an attachment of type <i>disposition</i>, from the data read from <i>in</i>, of content type <i>type</i> and using the transfer encoding <i>encoding</i>. The current status of the data is specified as <i>status</i>.</p>
<p>See also <a href="qmailmessagebody.html#fromStream">QMailMessageBody::fromStream</a>().</p>
<h3 class="fn"><a name="fromStream-2"></a>QMailMessagePart QMailMessagePart::fromStream ( <a href="qtextstream.html">QTextStream</a> &amp; <i>in</i>, const <a href="qmailmessagecontentdisposition.html">QMailMessageContentDisposition</a> &amp; <i>disposition</i>, const <a href="qmailmessagecontenttype.html">QMailMessageContentType</a> &amp; <i>type</i>, <a href="qmailmessagebody.html#TransferEncoding-enum">QMailMessageBody::TransferEncoding</a> <i>encoding</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Creates a <a href="qmailmessagepart.html">QMailMessagePart</a> containing an attachment of type <i>disposition</i>, from the data read from <i>in</i>, of content type <i>type</i> and using the transfer encoding <i>encoding</i>.</p>
<p>See also <a href="qmailmessagebody.html#fromStream">QMailMessageBody::fromStream</a>().</p>
<h3 class="fn"><a name="identifier"></a><a href="qstring.html">QString</a> QMailMessagePart::identifier () const</h3>
<p>Returns a non-empty string to identify the part, appropriate for storage. If the part has a 'Content-ID' header field, that value is used. Otherwise, if the part has a 'Content-Disposition' header field containing a 'filename' parameter, that value is used. Otherwise, if the part 'Content-Type' header field contains a 'name' parameter, that value is used. Finally, the part's number will be returned.</p>
<h3 class="fn"><a name="partNumber"></a>int QMailMessagePart::partNumber () const</h3>
<p>Returns the number of the part, if it has been set; otherwise returns -1.</p>
<p>See also <a href="qmailmessagepart.html#setPartNumber">setPartNumber</a>().</p>
<h3 class="fn"><a name="setContentDescription"></a>void QMailMessagePart::setContentDescription ( const <a href="qstring.html">QString</a> &amp; <i>description</i> )</h3>
<p>Sets the Content-Description header field for the part to contain <i>description</i>.</p>
<p>See also <a href="qmailmessagepart.html#contentDescription">contentDescription</a>().</p>
<h3 class="fn"><a name="setContentDisposition"></a>void QMailMessagePart::setContentDisposition ( const <a href="qmailmessagecontentdisposition.html">QMailMessageContentDisposition</a> &amp; <i>disposition</i> )</h3>
<p>Sets the Content-Disposition header field for the part to contain <i>disposition</i>.</p>
<p>See also <a href="qmailmessagepart.html#contentDisposition">contentDisposition</a>().</p>
<h3 class="fn"><a name="setContentID"></a>void QMailMessagePart::setContentID ( const <a href="qstring.html">QString</a> &amp; <i>id</i> )</h3>
<p>Sets the Content-Id header field for the part to contain <i>id</i>.</p>
<p>See also <a href="qmailmessagepart.html#contentID">contentID</a>().</p>
<h3 class="fn"><a name="setContentLanguage"></a>void QMailMessagePart::setContentLanguage ( const <a href="qstring.html">QString</a> &amp; <i>language</i> )</h3>
<p>Sets the Content-Language header field for the part to contain <i>language</i>.</p>
<p>See also <a href="qmailmessagepart.html#contentLanguage">contentLanguage</a>().</p>
<h3 class="fn"><a name="setContentLocation"></a>void QMailMessagePart::setContentLocation ( const <a href="qstring.html">QString</a> &amp; <i>location</i> )</h3>
<p>Sets the Content-Location header field for the part to contain <i>location</i>.</p>
<p>See also <a href="qmailmessagepart.html#contentLocation">contentLocation</a>().</p>
<h3 class="fn"><a name="setPartNumber"></a>void QMailMessagePart::setPartNumber ( int <i>partNumber</i> )</h3>
<p>Sets the number of the part within its parent part container to <i>partNumber</i>.</p>
<p>See also <a href="qmailmessagepart.html#partNumber">partNumber</a>().</p>
<h3 class="fn"><a name="writeBodyTo"></a><a href="qstring.html">QString</a> QMailMessagePart::writeBodyTo ( const <a href="qstring.html">QString</a> &amp; <i>path</i> ) const</h3>
<p>Writes the decoded body of the part to a file under the directory specified by <i>path</i>. A 'qtopiamail' directory element will be included in the full path, to avoid filename clashes. Returns the path of the file written on sucess, or an empty string otherwise.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 Trolltech</td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qt Extended 4.4.1</div></td>
</tr></table></div></address></body>
</html>

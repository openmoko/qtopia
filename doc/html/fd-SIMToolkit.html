<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>  SIM Toolkit </title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 align="center">  SIM Toolkit <br><small>Functional Description</small></h1>
<p />
<p />

<p />
The SIM Toolkit allows service providers to develop phone applications without modifying or installing software on the phone with the SIM toolkit application providing the user-interface for this functionality.
<p />
Qtopia provides only basic SIM toolkit functionality as the major part of the work to support SIM Toolkit is in the modem or vendor plug-in. There are no standard AT commands within the GSM specifications for SIM Toolkit and each modem has its own proprietary commands.
<p />
The SIM Toolkit provides features such as a display menu, display text and single character and string user input. Input may be numeric and the entered text may be echoed or hidden (as for password text). Play Tones are available for applications to use to indicate events such as call waiting, busy signal or errors etc.
<p />
<p />
See <a href="www.3gpp.org/ftp/tsg_t/ WG3_USIM/TSGT3_30/docs/T3-040071.doc">3GPP TS 11.14</a>
<p />

<p />
<h2><a name="Features"></a> Features </h2>
<h3><a name="SIM_Commands"></a> SIM Commands </h3>
<p />
The following SIM commands are supported:
<p />
<table cellspacing="1" cellpadding="2pt" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <font color="#000000">Command</font> </th><th bgcolor="#dadada"> <font color="#000000">Toolkit Feature</font> </th><th bgcolor="#dadada"> <font color="#000000">Reference</font> </th></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> DISPLAY TEXT </td><td bgcolor="#ffffff"> Display Text </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.1 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> GET INKEY </td><td bgcolor="#eaeaea"> Get User Input </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.2 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> GET INPUT </td><td bgcolor="#ffffff"> Get User Input </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.3 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> LAUNCH BROWSER </td><td bgcolor="#eaeaea"> Launch Browser </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.26 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> PLAY TONE </td><td bgcolor="#ffffff"> Play Tone </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.5 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> REFRESH </td><td bgcolor="#eaeaea"> Refresh </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.7 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> SELECT ITEM </td><td bgcolor="#ffffff"> Display Menu </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.9 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> SEND SHORT MESSAGE </td><td bgcolor="#eaeaea"> Send Messages </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.10 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> SEND SS </td><td bgcolor="#ffffff"> Send Messages </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.11 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> SEND USSD </td><td bgcolor="#eaeaea"> Send Messages </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.12 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> SET UP CALL </td><td bgcolor="#ffffff"> Call Setup </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.13 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> SET UP EVENT LIST </td><td bgcolor="#eaeaea"> Setup Event List </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.16 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> SET UP IDLE MODE TEXT </td><td bgcolor="#ffffff"> Setup Idle Mode Text </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.22 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> SET UP MENU </td><td bgcolor="#eaeaea"> Display Menu </td><td bgcolor="#eaeaea"> GSM TS 11.14, section 6.4.8 </td></tr>
</table>
<p />
<h3><a name="Display_Menu"></a> Display Menu </h3>
<p />
Displays a menu from which the user can choose an option. It is possible
to select an item from the menu or press <em>Back</em> to move to the previous
menu. Pressing <em>Back</em> at the main menu exits the application.  This feature
handles <code>SET UP MENU</code> (GSM TS 11.14, section 6.4.8) and <code>SELECT ITEM</code> (3GPP
TS 11.14, section 6.4.9).
<p />
<h3><a name="Display_Text"></a> Display Text </h3>
<p />
Displays text to the user. The text can be displayed until dismissed by the
user or for a short delay.  This feature handles <code>DISPLAY TEXT</code> (3GPP TS 11.14,
section 6.4.1).
<p />
<h3><a name="Get_User_Input"></a> Get User Input </h3>
<p />
The user can be prompted for input of the following types:
<p /> <ul>
<li> Input of a single digit or character (<code>GET INKEY</code>, 3GPP TS 11.14, section 6.4.2).
</li> <li> Input of a string of digits or characters (<code>GET INPUT</code>, 3GPP TS 11.14, section 6.4.3).
</li></ul> 
<p />
The entered text can be echoed or hidden as for password input.
<p />
<h3><a name="Play_Tone"></a> Play Tone </h3>
<p />
The SIM toolkit application can request that the application play a short tone
from the following list:
<p /> <ul>
<li> Dial
</li> <li> Busy
</li> <li> Congestion
</li> <li> RadioAck
</li> <li> Dropped
</li> <li> Error
</li> <li> CallWaiting
</li> <li> Ringing
</li> <li> GeneralBeep
</li> <li> PositiveBeep
</li> <li> NegativeBeep
</li></ul> 
<p />
This feature handles <code>PLAY TONE</code> (3GPP TS 11.14, section 6.4.5).
<p />
<h3><a name="Refresh"></a> Refresh </h3>
<p />
This feature handles <code>REFRESH</code> (3GPP TS 11.14, section 6.4.7). It is assumed that the modem performs the refresh.   Applications are notified of the refresh however at present, Qtopia applications are not required to action the notification, and simply ignore it.
<p />
<h3><a name="Send_Messages"></a> Send Messages </h3>
<p />
SIM toolkit applications can send various message types to the network via
<a href="fd-SMS.html" class="twikiLink">SMS</a>, Supplementary Services (SS) or Unstructured Supplementary Services Data (USSD).
<p />
It is assumed that the modem or the vendor plug-in performs the send
operation, and all that is required by Qtopia is to display a user-visible text string
while the send is in progress.
<p />
This feature handles <code>SEND SHORT MESSAGE</code> (3GPP TS 11.14, section 6.4.10),
<code>SEND SS</code> (3GPP TS 11.14, section 6.4.11), and <code>SEND USSD</code> (3GPP TS 11.14,
section 6.4.12).
<p />
<h3><a name="Call_Set_up"></a> Call Set-up </h3>
<p />
The SIM toolkit application can set-up a call on behalf of the user. In this case
the user must be asked for authorization before the call is initiated.  If the
user agrees, then the Qtopia Dialer service is directed to initiate the dial request.
<p />
This feature handles <code>SET UP CALL</code> (3GPP TS 11.14, section 6.4.13).
<p />
<h3><a name="Set_up_Event_List"></a> Set-up Event List </h3>
<p />
The SIM toolkit application can request that it be notified when the system
is idle or there is user activity.  This features handles <code>SET UP EVENT LIST</code>
(3GPP TS 11.14, section 6.4.16).  The application layer is notified
of the event request, and there is an API for sending events, however no Qtopia
applications currently send the events.
<p />
<h3><a name="Set_up_Idle_Mode_Text"></a> Set-up Idle Mode Text </h3>
<p />
The SIM toolkit application can request that a particular text string be
displayed on the phone's home screen whenever the system is idle.  This
feature handles <code>SET UP IDLE MODE TEXT</code> (3GPP TS 11.14, section 6.4.22).
There is an API to send this text string to the application layer but
no Qtopia applications currently display the string.
<p />
<h3><a name="Launch_Browser"></a> Launch Browser </h3>
<p />
The SIM toolkit application can request that the Web browser be launched with a
specific URL.  This feature handles <code>LAUNCH BROWSER</code> (3GPP TS 11.14, section
6.4.26) and the information is passed to the Qtopia WebAccess service.
<p />
The 3GPP specification lists some requirements on the modem.  For example, if the
modem is busy, not available, or processing a supplementary service request, it must
notify the SIM application that the operation cannot be performed.  It is expected that the
modem or vendor plug-in to handle this detail, as there is no way for Qtopia
to determine this information.
<p />
<h3><a name="Internationalization"></a> Internationalization </h3>
<p />
The SIM toolkit application can request the language that the surrounding system
is running in so that it can adapt its text message's to the user's language.  This
feature handles  <code>PROVIDE LOCAL INFORMATION</code> (3GPP TS 11.14, section 6.4.15).
<p />
It is expected that the modem vendor plug-in will intercept the =PROVIDE LOCAL
INFORMATION= message, call <code>Qtopia::languageList()</code>, and pass the user's
language back to the SIM automatically.  No other interaction is required.
<p />
The SIM toolkit application can inform the user as to the current language that
it is using with the feature <code>LANGUAGE NOTIFICATION</code> (3GPP TS 11.14, section 6.4.25).
This information is passed to the Qtopia application layer for applications that
wish to display it.
<p />
<h3><a name="Other_Commands"></a> Other Commands </h3>
<p />
There are a number of other pro-active SIM commands that are sent from the SIM
to the modem, according to 3GPP TS 11.14.  We expect these to be handled by the
modem itself, or the vendor plug-in - any responses that need to be sent to the
modem are sent by the vendor plug-in.  They are of no interest to Qtopia's
application layer and so do not appear in the SIM toolkit API.
<p />
<table cellspacing="1" cellpadding="2pt" class="twikiTable" border="0"><tr><th bgcolor="#dadada" class="twikiFirstCol"> <font color="#000000">Command</font> </th><th bgcolor="#dadada"> <font color="#000000">Reference</font> </th></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> CLOSE CHANNEL </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.28 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> GET CHANNEL STATUS </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.31 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> GET READER STATUS </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.20 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> LANGUAGE NOTIFICATION </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.25 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> MORE TIME </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.4 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> OPEN CHANNEL </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.27 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> PERFORM CARD APDU </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.17 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> POLL INTERVAL </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.6 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> POLLING OFF </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.14 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> POWER OFF CARD </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.18 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> POWER ON CARD </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.19 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> PROVIDE LOCAL INFORMATION </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.15 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> RECEIVE DATA </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.29 </td></tr>
<tr><td bgcolor="#eaeaea" class="twikiFirstCol"> RUN AT COMMAND </td><td bgcolor="#eaeaea"> 3GPP TS 11.14, section 6.4.23 </td></tr>
<tr><td bgcolor="#ffffff" class="twikiFirstCol"> SEND DATA </td><td bgcolor="#ffffff"> 3GPP TS 11.14, section 6.4.30 </td></tr>
</table>
<p />
<hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2007 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.2.4</div></td>
</tr></table></div>
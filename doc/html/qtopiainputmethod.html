<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>QtopiaInputMethod Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><img src="images/qpelogo.png" align="left" width="32" height="32" border="0" /></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped Classes</font></a>&nbsp;&middot; <a href="annotated.html"><font color="#004faf">Annotated</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></td></tr></table><h1 class="title">QtopiaInputMethod Class Reference</h1>
<p>The QtopiaInputMethod class describes the minimum interface that an input method plug-in must provide. <a href="#details">More...</a></p>
<pre>    #include &lt;QtopiaInputMethod&gt;</pre><p>Inherits <a href="qobject.html">QObject</a>.</p>
<ul>
<li><a href="qtopiainputmethod-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h3>Public Types</h3>
<ul>
<li><div class="fn"/>enum <b><a href="qtopiainputmethod.html#Properties-enum">Properties</a></b> { RequireMouse, RequireKeypad, InputModifier, InputWidget, ..., MenuItem }</li>
<li><div class="fn"/>enum <b><a href="qtopiainputmethod.html#State-enum">State</a></b> { Sleeping, Ready }</li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qtopiainputmethod.html#QtopiaInputMethod">QtopiaInputMethod</a></b> ( QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/>virtual <b><a href="qtopiainputmethod.html#dtor.QtopiaInputMethod">~QtopiaInputMethod</a></b> ()</li>
<li><div class="fn"/>virtual QIcon <b><a href="qtopiainputmethod.html#icon">icon</a></b> () const = 0</li>
<li><div class="fn"/>virtual QString <b><a href="qtopiainputmethod.html#identifier">identifier</a></b> () const = 0</li>
<li><div class="fn"/>virtual QWSInputMethod * <b><a href="qtopiainputmethod.html#inputModifier">inputModifier</a></b> ()</li>
<li><div class="fn"/>virtual QWidget * <b><a href="qtopiainputmethod.html#inputWidget">inputWidget</a></b> ( QWidget * <i>parent</i> = 0 )</li>
<li><div class="fn"/>virtual QList&lt;QIMActionDescription *&gt; <b><a href="qtopiainputmethod.html#menuDescription">menuDescription</a></b> ()</li>
<li><div class="fn"/>virtual QString <b><a href="qtopiainputmethod.html#name">name</a></b> () const = 0</li>
<li><div class="fn"/>virtual bool <b><a href="qtopiainputmethod.html#passwordHint">passwordHint</a></b> () const</li>
<li><div class="fn"/>virtual int <b><a href="qtopiainputmethod.html#properties">properties</a></b> () const = 0</li>
<li><div class="fn"/>virtual void <b><a href="qtopiainputmethod.html#reset">reset</a></b> () = 0</li>
<li><div class="fn"/>virtual bool <b><a href="qtopiainputmethod.html#restrictedToHint">restrictedToHint</a></b> () const</li>
<li><div class="fn"/>virtual void <b><a href="qtopiainputmethod.html#setHint">setHint</a></b> ( const QString &amp; <i>hint</i>, bool <i>restricted</i> ) = 0</li>
<li><div class="fn"/>virtual State <b><a href="qtopiainputmethod.html#state">state</a></b> () const = 0</li>
<li><div class="fn"/>virtual QWidget * <b><a href="qtopiainputmethod.html#statusWidget">statusWidget</a></b> ( QWidget * <i>parent</i> = 0 )</li>
<li><div class="fn"/>bool <b><a href="qtopiainputmethod.html#testProperty">testProperty</a></b> ( int <i>p</i> ) const</li>
<li><div class="fn"/>virtual QString <b><a href="qtopiainputmethod.html#version">version</a></b> () const = 0</li>
</ul>
<ul>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="public-slots"></a>
<h3>Public Slots</h3>
<ul>
<li><div class="fn"/>virtual void <b><a href="qtopiainputmethod.html#clicked">clicked</a></b> ()</li>
<li><div class="fn"/>virtual void <b><a href="qtopiainputmethod.html#focusChanged">focusChanged</a></b> ()</li>
<li><div class="fn"/>virtual void <b><a href="qtopiainputmethod.html#menuActionActivated">menuActionActivated</a></b> ( int <i>data</i> )</li>
</ul>
<ul>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="qtopiainputmethod.html#stateChanged">stateChanged</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qtopiainputmethod.html#updateMenuAction">updateMenuAction</a></b> ( bool <i>showMenuAction</i> )</li>
</ul>
<ul>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public type inherited from <a href="qobject.html#public-variables">QObject</a></li>
<li><div class="fn"/>4 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
<li><div class="fn"/>2 protected variables inherited from <a href="qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QtopiaInputMethod class describes the minimum interface that an input method plug-in must provide.</p>
<p>Input Methods may be added to Qtopia via plug-ins. In order to write an input method plug-in you must create an interface for your plug-in by deriving from the QtopiaInputMethod class.</p>
<p>At a minimum you will need to implement the methods <a href="qtopiainputmethod.html#name">name</a>(), <a href="qtopiainputmethod.html#identifier">identifier</a>(), <a href="qtopiainputmethod.html#version">version</a>(), <a href="qtopiainputmethod.html#state">state</a>(), <a href="qtopiainputmethod.html#properties">properties</a>(), <a href="qtopiainputmethod.html#icon">icon</a>() and <a href="qtopiainputmethod.html#reset">reset</a>().</p>
<p>Pop-up input methods that need to show a widget on the screen can do so by overriding <a href="qtopiainputmethod.html#inputWidget">inputWidget</a>().</p>
<p>Filtering input methods that need to filter application pen or keyboard events can do so by overriding <a href="qtopiainputmethod.html#inputModifier">inputModifier</a>()</p>
<p>See also <a href="tut-createim-compose.html">Tutorial: Create an Input method Plug-in that Modifies Keyboard Input</a> and <a href="qpeinputmethod-class-overview.html#qwsinputmethod">QWSInputMethod</a>().</p>
<hr />
<h2>Member Type Documentation</h2>
<h3 class="fn"><a name="Properties-enum"></a>enum QtopiaInputMethod::Properties</h3>
<p>The Properties flags describe how the input method behaves and under what conditions it should be loaded.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::RequireMouse</tt></td><td align="center" valign="top"><tt>0x0001</tt></td><td valign="top">The input method should not be loaded if no pen input is available.</td></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::RequireKeypad</tt></td><td align="center" valign="top"><tt>0x0002</tt></td><td valign="top">The input method should not be loaded if no phone keypad is available. A phone keypad consists of 0-9, * and # keys.</td></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::InputModifier</tt></td><td align="center" valign="top"><tt>0x0004</tt></td><td valign="top">The input method can filter device pen and key events.</td></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::InputWidget</tt></td><td align="center" valign="top"><tt>0x0010</tt></td><td valign="top">The input method provides a popup widget that receives input</td></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::DockedInputWidget</tt></td><td align="center" valign="top"><tt>0x0030</tt></td><td valign="top">The input method's popup widget should be docked to the bottom of the screen, and other windows should be resized to allow for it's space when it is visible. Note that DockedInputWidget implies InputWidget, and that the input method's input widget should be defined if this property is set (Setting the InputWidget property as well will not do any harm, but is not necessary)</td></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::InteractiveIcon</tt></td><td align="center" valign="top"><tt>0x0008</tt></td><td valign="top">The icon representing the input method is interactive. It can be clicked or will animate to show the mode of the input method.</td></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::MenuItem</tt></td><td align="center" valign="top"><tt>0x0040</tt></td><td valign="top">The input method menu adds an item to the softkey context menu. If this value is set, the input method must also implement the menuActionToDuplicate() function that returns a <a href="qaction.html">QAction</a> that is to copied for the menu. Additionally, the input method must respond to the menuActionActivated, as the supplied action will not receive events (it is only used as a model to copy). The input method can respond by either by implementing menuActionActivated in a subclass, or by connecting it somewhere else for processing.</td></tr>
</table></p>
<h3 class="fn"><a name="State-enum"></a>enum QtopiaInputMethod::State</h3>
<p>This enum describe the state of the input method.</p>
<p><table border="1" cellpadding="2" cellspacing="1" width="100%">
<tr><th width="25%">Constant</th><th width="15%">Value</th><th width="60%">Description</th></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::Sleeping</tt></td><td align="center" valign="top"><tt>0</tt></td><td valign="top">The input method is not able to provide input for the current input method hint.</td></tr>
<tr><td valign="top"><tt>QtopiaInputMethod::Ready</tt></td><td align="center" valign="top"><tt>1</tt></td><td valign="top">The input method is able to provide input for the current input method hint.</td></tr>
</table></p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QtopiaInputMethod"></a>QtopiaInputMethod::QtopiaInputMethod ( <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs an input method with the parent set to <i>parent</i>.</p>
<h3 class="fn"><a name="dtor.QtopiaInputMethod"></a>QtopiaInputMethod::~QtopiaInputMethod ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Destroys the input method.</p>
<h3 class="fn"><a name="clicked"></a>void QtopiaInputMethod::clicked ()&nbsp;&nbsp;<tt> [virtual slot]</tt></h3>
<p>This function is called when the user clicks on the status icon of the input method. It is only called doesn't provide its own status widget.</p>
<p>See also <a href="qtopiainputmethod.html#statusWidget">statusWidget</a>().</p>
<h3 class="fn"><a name="focusChanged"></a>void QtopiaInputMethod::focusChanged ()&nbsp;&nbsp;<tt> [virtual slot]</tt></h3>
<p>This function is called by the system to notify it that focus has changed. Focus changes will usually trigger a new hint as well.</p>
<p>See also <a href="qtopiainputmethod.html#setHint">setHint</a>().</p>
<h3 class="fn"><a name="icon"></a><a href="qicon.html">QIcon</a> QtopiaInputMethod::icon () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the icon associated with this input method.</p>
<h3 class="fn"><a name="identifier"></a><a href="qstring.html">QString</a> QtopiaInputMethod::identifier () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the indentifier of the input method. This is used to identify the input method in code.</p>
<h3 class="fn"><a name="inputModifier"></a><a href="qwsinputmethod.html">QWSInputMethod</a> * QtopiaInputMethod::inputModifier ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the input modifier for the input method.</p>
<p>The input modifer is installed as the current input method for the <a href="qwsserver.html">QWSServer</a> when selected. This allows the input method to work by filtering pen movements on the screen or filtering device keys. Returning 0 indicates no input modifier is provided and that the input method uses some other method for the user to generated text.</p>
<p>The base class returns 0.</p>
<h3 class="fn"><a name="inputWidget"></a><a href="qwidget.html">QWidget</a> * QtopiaInputMethod::inputWidget ( <a href="qwidget.html">QWidget</a> * <i>parent</i> = 0 )&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the input widget for the input method. On the first call of this function it should create the widget with the given <i>parent</i>.</p>
<p>The widget is used for input methods that have the <a href="qtopiainputmethod.html#Properties-enum">InputWidget</a> property. It is shown when the user requests it to provide input or even simply provide additional keys. Returning 0 indicates no input widget is provided and that the input method uses some other method for the user to generate text.</p>
<p>The base class returns 0.</p>
<h3 class="fn"><a name="menuActionActivated"></a>void QtopiaInputMethod::menuActionActivated ( int <i>data</i> )&nbsp;&nbsp;<tt> [virtual slot]</tt></h3>
<p>This slot is triggered when the input methods action has been activated from the softkey menu. Implement in a subclass, or connect the slot to react to menu activation.</p>
<p><b>Note:</b> This is the only way to receive notification of menu action activations, as the Softkey Menu has separate copies of the <a href="qaction.html">QAction</a>, often in a separate process to the input method. However, connecting this slot to other slots in the input method or server will work normally.</p>
<p>The <i>data</i> is the id from the id field of the <a href="qimactiondescription.html">QIMActionDescription</a> used to create the <a href="qaction.html">QAction</a> that was triggered. Be sure to assign a unique id to each menu action, so as to be able to tell them apart here.</p>
<p>0 is the default value returned if the server was not able to determine which action was triggered for some reason.</p>
<p>See also: <a href="qimactiondescription.html">QIMActionDescription</a></p>
<h3 class="fn"><a name="menuDescription"></a><a href="qlist.html">QList</a>&lt;<a href="qimactiondescription.html">QIMActionDescription</a> *&gt; QtopiaInputMethod::menuDescription ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Implement this function in a derived class to return a description of the menu that should be installed on the input methods behalf.</p>
<p>This function is called by Qtopia when the input methods menu is shown, or when the inputmethod emits <a href="qtopiainputmethod.html#stateChanged">stateChanged</a>(), in order to construct the softkey menu entries for the input method.</p>
<p>If the list contains only a single item, the server interprets this as a single menu item, and softkey puts it in its top-level menu, and returns its id when it is activated.</p>
<p>If the list contains more than one item, the server interprests the first as the icon and label for a menu item in the top level softkey menu, and subsequent items as members of that submenu. Note that in this case the first item will become a menu, and will not be triggerable, so its id will never be sent back to the IM.</p>
<p>Each IMAction description includes an id to identify the action, a user-visible label, and the filename of the icon used for the action. Note that the icon will usually be instantiated from a different process that could have a different environment from the inputmethod, so the file name must be fully qualified.</p>
<p>The default implementation returns an empty list, which will result in no menu actions being added on behalf of the input method.</p>
<p>see also: <a href="qimactiondescription.html">QIMActionDescription</a></p>
<h3 class="fn"><a name="name"></a><a href="qstring.html">QString</a> QtopiaInputMethod::name () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the name of the input method. This is a end user visible string and should be translated to the users locale.</p>
<h3 class="fn"><a name="passwordHint"></a>bool QtopiaInputMethod::passwordHint () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns true if the current input method is restricted to providing input suitable for a password field.</p>
<h3 class="fn"><a name="properties"></a>int QtopiaInputMethod::properties () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the capability property flags for the input method.</p>
<p>See also <a href="qtopiainputmethod.html#Properties-enum">Properties</a>.</p>
<h3 class="fn"><a name="reset"></a>void QtopiaInputMethod::reset ()&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Resets the input method to its initial state.</p>
<h3 class="fn"><a name="restrictedToHint"></a>bool QtopiaInputMethod::restrictedToHint () const&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns true if the current input method is restricted to providing input suitable for the current hint.</p>
<h3 class="fn"><a name="setHint"></a>void QtopiaInputMethod::setHint ( const <a href="qstring.html">QString</a> &amp; <i>hint</i>, bool <i>restricted</i> )&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>This is the primary communication channel from the server to the Input Method, and sets the hint describing the sort of input the current input widget requires to <i>hint</i>. It must be implemented in Input Method plugins.</p>
<p>If <i>restricted</i> is true the widget only accepts one kind of input and input method should disable any mode switching. For example, the home screen Qtopia might set the hint to be restricted to phone numbers.</p>
<p>an empty hint is used to indicate that input is not needed for the current focused widget- the Input Method should deactivate.</p>
<p>Common hints are words - Dictonary words such as some notes text - Names, passwords etc. extended - text with extensions for additional character sets number - 0-9 phone - Phone numbers, 0-9 plus phone control codes such as 'p' 'x' or 'w'.</p>
<p>Application may also define custom hints, such as email to describe an email address. Input methods should provide reasonable default behavior for hints they do not recognize.</p>
<h3 class="fn"><a name="state"></a><a href="qtopiainputmethod.html#State-enum">State</a> QtopiaInputMethod::state () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the current state of the input method.</p>
<h3 class="fn"><a name="stateChanged"></a>void QtopiaInputMethod::stateChanged ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when the input method state changes. Causes the server to update the menus for the input method.</p>
<p>See also <a href="qtopiainputmethod.html#state">state</a>().</p>
<h3 class="fn"><a name="statusWidget"></a><a href="qwidget.html">QWidget</a> * QtopiaInputMethod::statusWidget ( <a href="qwidget.html">QWidget</a> * <i>parent</i> = 0 )&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Returns the status widget for the input method. On the first call of this function it should create the widget with the given <i>parent</i>.</p>
<p>The status widget is displayed when the input method is selected and not in the Sleeping state. If no status widget is provided a label with the icon returned from <a href="qtopiainputmethod.html#icon">icon</a>() will be used instead.</p>
<p>The base class returns 0.</p>
<h3 class="fn"><a name="testProperty"></a>bool QtopiaInputMethod::testProperty ( int <i>p</i> ) const</h3>
<p>Returns true if the property flag <i>p</i> is set to true for this input method. Otherwise returns false.</p>
<h3 class="fn"><a name="updateMenuAction"></a>void QtopiaInputMethod::updateMenuAction ( bool <i>showMenuAction</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is not currently used, but reserved for future use. It is anticipated that this signal will be used to signal to the server that the input method menu has changed, with <i>showMenuAction</i> being used to indicate whether or not the new menu should be displayed. <b>Note:</b> Currently the server updates the menu on a <a href="qtopiainputmethod.html#stateChanged">stateChanged</a>() signal.</p>
<h3 class="fn"><a name="version"></a><a href="qstring.html">QString</a> QtopiaInputMethod::version () const&nbsp;&nbsp;<tt> [pure virtual]</tt></h3>
<p>Returns the version string of the input method.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td align="left">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td align="center"><a href="trademarks.html">Trademarks</a></td>
<td align="right"><div align="right">Qtopia 4.3.2</div></td>
</tr></table></div></address></body>
</html>
